/*! megabox 14-06-2022 */
var NetFunnel={};function NetFunnel_init(t,e,n){return NetFunnel.gControl&&(NetFunnel.gControl._resetScript(),NetFunnel.gControl=null),void 0===n?n=NetFunnel.DefaultCallback:(n.onSuccess||(n.onSuccess=NetFunnel.DefaultCallback.onSuccess),n.onContinued||(n.onContinued=NetFunnel.DefaultCallback.onContinued),n.onError||(n.onError=NetFunnel.DefaultCallback.onError),n.onStop||(n.onStop=NetFunnel.DefaultCallback.onStop),n.onBypass||(n.onBypass=NetFunnel.DefaultCallback.onBypass),n.onBlock||(n.onBlock=NetFunnel.DefaultCallback.onBlock),n.onExpressnumber||(n.onExpressnumber=NetFunnel.DefaultCallback.onExpressnumber),n.onIpBlock||(n.onIpBlock=NetFunnel.DefaultCallback.onIpBlock)),NetFunnel.gControl=new NetFunnel.TsClient(e,n),!0}function NetFunnel_sendStop(t){try{return NetFunnel.gControl||NetFunnel_init(),NetFunnel.gAlreadyProc=0,NetFunnel.gControl.setNext(t),NetFunnel.gControl.sendStop(),!0}catch(t){return!1}}function NetFunnel_getTicketID(t,e,n){return NetFunnel.gControl||NetFunnel_init(),NetFunnel.gAlreadyProc=0,NetFunnel.gControl.setNext(t),NetFunnel.gControl.getTicketID(e,n),!0}function NetFunnel_chkEnter(t,e){if(NetFunnel.gControl||NetFunnel_init(),void(NetFunnel.gAlreadyProc=0)!==e&&e.constructor==Object){if(!(n=e.key))return!1}else{var n,e=new NetFunnel.Storage(2),i=e.getItem(NetFunnel.gControl.mConfig.cookie_id);if(null===i||""==i)return!1;if(!(n=new NetFunnel.RetVal(i).getValue("key")))return(e=new NetFunnel.Storage(2)).removeItem(this.mConfig.cookie_id),!1}return NetFunnel.gControl.setNext(t),NetFunnel.gControl.chkEnter(n),!0}function NetFunnel_getTidChkEnter(t,e,n){return NetFunnel.gControl||NetFunnel_init(),NetFunnel.gAlreadyProc=0,NetFunnel.gControl.setNext(t),NetFunnel.gControl.getTidChkEnter(e,n),!0}function NetFunnel_aliveNotice(t,e){try{NetFunnel.gControl||NetFunnel_init(),NetFunnel.gAlreadyProc=0;var n="",i="",o="";if(void 0!==e&&e.constructor==Object){if(!(n=e.key))return!1;i=e.ip,o=e.port}else{var r=new NetFunnel.Storage(2),l=r.getItem(NetFunnel.gControl.mConfig.cookie_id);if(null===l||""==l)return!1;var s=new NetFunnel.RetVal(l);if(!(n=s.getValue("key")))return r.removeItem(this.mConfig.cookie_id),!1;i=s.getValue("ip"),o=s.getValue("port")}return NetFunnel.gControl.setNext(t),NetFunnel.gControl.aliveNotice(n,i,o),!0}catch(t){return!1}}function NetFunnel_setComplete(t,e){NetFunnel.gControl||NetFunnel_init(),NetFunnel.gAlreadyProc=0,NetFunnel.gControl.setNext(t);var t="",n="",i="";if(void 0!==e&&e.constructor==Object){if(!(t=e.key))return NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem),!1;n=e.ip,i=e.port}else{var e=new NetFunnel.Storage(2),o=e.getItem(NetFunnel.gControl.mConfig.cookie_id);if(null===o||""==o)return NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem),!1;var o=new NetFunnel.RetVal(o),r=o.getRetCode(),l=o.getReqType();if(r!=NetFunnel.kSuccess&&r!=NetFunnel.kTsBypass&&(l!=NetFunnel.RTYPE_ALIVE_NOTICE||r!=NetFunnel.kContinue))return l=new NetFunnel.RetVal(NetFunnel.RTYPE_SET_COMPLETE+':200:msg="Success"'),NetFunnel.gControl._showResultSetComplete(l),!0;if(!(t=o.getValue("key")))return(e=new NetFunnel.Storage(2)).removeItem(NetFunnel.gControl.mConfig.cookie_id),NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem),!1;n=o.getValue("ip"),i=o.getValue("port")}return NetFunnel.gControl.setComplete(t,n,i),!0}function NetFunnel_cookieExist(){return!!NetFunnel.gControl&&NetFunnel.gControl.cookieExist()}function NetFunnel_isRunning(){return!!NetFunnel.gControl&&NetFunnel.gControl.isRunning()}function NetFunnel_goForm(t,e,n){var i=null;if("string"==typeof e){if("object"!=typeof(i=document.getElementById(e))||null===i){var o=document.getElementsByName(e);if("object"!=typeof(i=o[0])||null===i)return alert("[NetFUNNEL] Invalid input form"),!1}}else{if("object"!=typeof e)return alert("[NetFUNNEL] Invalid input form"),!1;i=e}return"function"!=typeof n&&(n=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_getTidChkEnter({success:function(t,e){null!==i&&i.submit()},error:function(t,e){null!==i&&i.submit()},bypass:function(t,e){null!==i&&i.submit()},stop:n}),!1}function NetFunnel_goUrl(t,e,n){return"string"!=typeof e?alert("[NetFUNNEL] Invalid input url"):("function"!=typeof n&&(n=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_getTidChkEnter({success:e,error:e,bypass:e,stop:n})),!1}function NetFunnel_goFunc(t,e,n){return"function"!=typeof e?alert("[NetFUNNEL] Invalid input function"):("function"!=typeof n&&(n=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_getTidChkEnter({success:e,error:e,bypass:e,stop:n})),!1}function NetFunnel_goComplete(t,e){return"function"!=typeof e&&(e=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_setComplete({success:e,error:e,bypass:e}),!1}function NetFunnel_goAliveNotice(t,e){return"function"!=typeof e&&(e=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_aliveNotice({success:e,error:e,bypass:e}),!1}function NetFunnel_Action(t,e){var n=null,i=e.success,o=e.continued,r=e.stop,l=e.error,s=e.bypass,u=e.block,a=e.ipblock,p=e.expressnumber;return"object"==typeof(i=void 0===e.success?e:i)&&(n=i),void 0===r&&(r=function(t,e){return!1}),void 0===l&&(l=i),void 0===s&&(s=i),void 0===p&&(p=i),NetFunnel_init(null,t),NetFunnel_getTidChkEnter(null===n?{success:i,error:l,stop:r,bypass:s,block:u,ipblock:a,expressnumber:p,continued:o}:{success:function(t,e){null!==n&&n.submit()},error:function(t,e){null!==n&&n.submit()},bypass:function(t,e){null!==n&&n.submit()},expressnumber:function(t,e){null!==n&&n.submit()},stop:r,block:u,ipblock:a,continued:o}),!1}function NetFunnel_Complete(t,e){return"function"!=typeof e&&(e=function(t,e){return!1}),NetFunnel_init(null,t),NetFunnel_setComplete({success:e,error:e,bypass:e}),!1}function NetFunnel_AliveNotice(t,e){var n,i;return NetFunnel_init(null,t),"function"==typeof e?NetFunnel_aliveNotice({success:e,error:e,bypass:e,continued:e}):"object"==typeof e?(t=e.success,n=e.continued,i=e.stop,NetFunnel_aliveNotice({success:t,error:e.error,stop:i,bypass:e.bypass,block:e.block,ipblock:e.ipblock,expressnumber:e.expressnumber,continued:n})):NetFunnel_aliveNotice({success:e=function(t,e){return!1},error:e,bypass:e,continued:e}),!1}function DefaultCallback_onSuccess(t,e,n){var i,o;return 0<navigator.userAgent.toLowerCase().indexOf("chrome")&&NetFunnel.gPop?(i=n.getConfig("popup_target").document,(o=document.createElement("IMG")).src="data:image/gif;base64,"+NetFunnel.gFixelData,o.style.position="absolute",o.style.top="-10px",o.style.left="-10px",o.style.display="none",o.onload=function(){e.next(t,e),i.getElementsByTagName("body")[0].removeChild(o)},i.getElementsByTagName("body")[0].appendChild(o)):e.next(t,e),!1}NetFunnel.Skin={},NetFunnel.TS_HOST="netfunnel.megabox.co.kr",NetFunnel.TS_PORT=443,NetFunnel.TS_PROTO="https",NetFunnel.TS_QUERY="ts.wseq",NetFunnel.TS_SERVICE_ID="service_1",NetFunnel.TS_ACTION_ID="T_PC_MEGA02",NetFunnel.TS_MAX_TTL=30,NetFunnel.TS_CONN_TIMEOUT=6,NetFunnel.TS_CONN_RETRY=0,NetFunnel.TS_COOKIE_ID="NetFunnel_ID",NetFunnel.TS_COOKIE_TIME=10,NetFunnel.TS_COOKIE_DOMAIN="localhost",NetFunnel.TS_BYPASS=!1,NetFunnel.TS_PRE_ACTION_ID="T_PC_",NetFunnel.TS_BYPASS_KEY="",NetFunnel.TS_TARGET="",NetFunnel.TS_POPUP_TOP=!1,NetFunnel.TS_POPUP_LEFT=!1,NetFunnel.TS_AUTO_COMPLETE=!0,NetFunnel.TS_DEBUG_MODE=!1,NetFunnel.TS_SHOWTIME_LIMIT=0,NetFunnel.TS_SHOWCNT_LIMIT=0,NetFunnel.TS_SHOWNEXT_LIMIT=0,NetFunnel.TS_LIMIT_TEXT="다수",NetFunnel.TS_IFRAME_RESIZE=!1,NetFunnel.TS_USE_UNFOCUS=!0,NetFunnel.TS_VIRT_WAIT=1e4,NetFunnel.TS_USE_MOBILE_UI=!1,NetFunnel.TS_POPUP_TARGET=window,NetFunnel.TS_USE_FRAME_BLOCK=!1,NetFunnel.TS_FRAME_BLOCK_LIST=[],NetFunnel.TS_USE_PRE_WAIT=!1,NetFunnel.TS_USER_DATA_KEYS=[],NetFunnel.TS_CONFIG_USE=!0,NetFunnel.TS_POPUP_ZINDEX=32e3,NetFunnel.TS_IP_ERROR_RETRY=!0,NetFunnel.TS_NWAIT_BYPASS=!0,NetFunnel.TS_MAX_NWAIT_COUNT=100,NetFunnel.TS_BLOCK_MSG="서비스 점검중입니다",NetFunnel.TS_BLOCK_URL="",NetFunnel.TS_IPBLOCK_WAIT_COUNT=200,NetFunnel.TS_IPBLOCK_WAIT_TIME=1e4,NetFunnel.TS_SHOW_WAIT_POPUP=!1,NetFunnel.TS_SKIN_ID="megaboxMobile",NetFunnel.MP_USE=!1,NetFunnel.MP_TIMELIMIT=2e4,NetFunnel.MP_MAXREQLIMIT=NetFunnel.MP_TIMELIMIT/1100,NetFunnel.MP_DEVLIMIT=20,NetFunnel.MP_DEVCNTLIMIT=7,NetFunnel.MP_REQONLYLIMIT=10,NetFunnel.MP_MINCOUNT=5,NetFunnel.gLogoData="R0lGODlhJgAQAOe/AB5vlR5ykh9zkyNymCF0lC1xkiN1lSR2liZ3lyd4mDN1lyh5mSp6mjN4lCt7my18nDh5myt+mC59nTd7ly9+njF/nzp+mjKAoDt/mzOBoT+CnkCDn0KFoUOGokSHo0iLpk+SrlSWsl2ZsF6asWeYsWCbsmGcs2OetWSftla4Q1e5RFi6RVm7Rl+6TWK6RnaowXuou3WqvHipwmG8TmS9SGK9T2W+SWq8T2O+UH6rvmS/UX+sv2y+UWXAUoCtwIKuwYOvw4SwxIWxxW/DXYayxnfCXYezx3XDZXbEZom1yY21w4q2you4y3rIaXvJao67zoLKcpq6yonJcpe/zZu/1IrNfY3Nd6C/z5zA1ZrC0KHA0I7QgJ/D2KPD04/SgZbQgZDTgqPH0KbG1pbUiqvH0azM3LDM16PZkaLamLPP2q7Zn7bS3KncobfT3bHcorrW4LnfrbPirrrgrsTY5Lvhr7jkqsba5rzjsLrkt73kscjc6Mvc4rzluMzd49Dg59Hh6MfpvtLi6dPk6s3qxtfk5dTl687rx9Xm7Nbn7dPrz9Ts0Nfo79Xt0dnp8N3q69fv097r7OHq8uXq7d/s7eDt7uDw1ePs9Obs7uTt9eft79/y3uLw8Onu8ODz3+vw8+H14Ozx9O3y9er14u306e7z9uj26u/26+/19+n46/D37PD2+PL3+fL57vP4+/T67/T5/Pf59vX6/fj69/L89/X88Pn7+Pr8+ff9//v9+v78///9+//9//n///z/+/7//P///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEKAP8ALAAAAAAmABAAAAj+AH2hSuXLl61SsHzp8pVLIcOHBSNKnDgxFY8VnXwlckHH1y2PBiuJakixZElUOlrocGWoBRxfuBS58vWpxRZbJnNKRKXSpqIWdB6x0JFCUZMWKhjpXMrTypkUTlzgWXHkjgsko3R4wbk0J08ovoq0aMEmxZAvW6rM0jGmq05TOqT4MpWiBR8oLfL0UOPqxphbC91SnFUHUMFHcTTJcgMGjShccgYtDUyxYSguWq5EWdXFjq9WWNp4mlJG4ZwrqvRcQVRQTBZfUbRkyULqDZWEug5RcLAAACUIQHxBIkAiUIIFYXz9cHApyQQJBT1Q8CVAwgIGiGAgIJXrlu4RBgXsUQjiKxKBEn8WOMCgCgiDS0okMBDhSzp1AxFjbGd4SH4BDpFQENwkBIzwBwIgSLCBD+8lIcEHC6TxwXQBSCCAAZ68gMApBenmQRBPIEIBDL40ct6BP5AhQQUMSLKEBH5wsGIFvgzQgBFCvCLDhgyJWEJBjkigQRonJADDHwns4EsIDDBASRIR9AGKBBNMJ4ACa5jRSgwM/EAEJIhcYEJEKEhgpgaq9OHADwVxQAEmTFDQhy9lLJCBLwdYQIEFjeRAwZ973LIJKBI5QkghqtwSSyYc+kIKJ7eowkktH2XCiS+WcKKpLadomkksAQEAOw==",NetFunnel.gLogoText="",NetFunnel.gLogoURL="http://www.netfunnel.co.kr",NetFunnel.gPreWaitData="R0lGODlhKAAoALMMAPj4+MTExPT09NTU1NPT08XFxcbGxsLCwtXV1cPDw/X19b+/v////wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSAABcv0qQRLvwQCyc73C5YGxB5BgkwuS4nk4iCJJqlQKdZKxJII0ifYaRLwfECJmZg2AQaFwqA2ecfnrry+dJvR80NoRi5NRE8uXD5eLYk9iyxjhnprgnt2cn97mpucnZ6foKGio3oRACH5BAkFAAwALAAAAAAoACgAAASAkMlJq7046827/2AojmRpnmiqrmwLAohhIAAFy/SpBEu/BALJzvcLlgbEHkGCTC5LieTiIIkmqVAp1krEkgjSJ9hpEvB8QImZmDYBBoXCoDZ5x+euvP4Vm9HzQ2hGLk1ETy5cPl4tiT2LLGOGemuCe3Zyf3uam5ydnp+goaKjnREAIfkECQUADAAsAAAAACgAKAAABICQyUmrvTjrzbv/YCiOZGmeaKqubAsCiGEgAAXL9KkES78EAsnO9wuWBsQeQYJMLkuJ5OIgiSapUCnWSsSSCNIn2GkS8HxAiZmYNgEGhcKgNnnH5668fnOb0fNDaEYuTURPLlw+Xi2JPYssY4Z6a4J7dnJ/e5qbnJ2en6ChoqOiEQAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkQJTEY7CXK7ngQn1JoAg0JhUJMEj1GX8dhUL9uk6azMeKJN3KyPce3uSWdCaWBiZCdrQnAsiDuKK3aCP316PwyEY3SVmpucnZ6foKGio6IRACH5BAkFAAwALAAAAAAoACgAAAR9kMlJq7046827/2AojmRpnmiqrmwLAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRtBGWRJsgt+v9GIBBoTCoXb/gDUxGo4xn3hJOaGWsq75S8BidC6Mk47GpFzbzS3yBJk90EoV3JlNscYtwJ1lbXWZaXGlhmJmam5ydnp+goBEAIfkECQUADAAsAAAAACgAKAAABH2QyUmrvTjrzbv/YCiOZGmeaKqubFsCiGEggDspwaIvgWAzg92O8EsIdYficZG0EZZEmyC36/0YgEGhMKhdv2ALTEajjGfeEk5oZayrvlLwGJ0LoyTjsakXNvNLfIEmT3QShXcmU2xxi3AnWVtdZlpcaWGYmZqbnJ2en6CgEQAh+QQJBQAMACwAAAAAKAAoAAAEfZDJSau9OOvNu/9gKI5kaZ5oqq5sqwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkSbILfr/RiAQaEwqF2/YGxs5pXAZLQTTmhlrKu+UvAYnQujJOOxqRc280t8gSZPdBKFdyZTbHGLcCdZW10UkVxlYZiZmpucnZ6foKARACH5BAUFAAwALAAAAAAoACgAAASBkMlJq7046827/2AojmRpnmiqrmyrAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRNMFktAlhSSzhhD2JILfLloLHKgMwKBQGNZPx2HSthe3WNDx5ztKlLdbHuHb5JWRmaBNgQmItbztxLIpIP3OHP3p/P2NlZ3iWm5ydnp+goaKjpD8RADs=",NetFunnel.gFixelData="R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",NetFunnel.RTYPE_NONE=0,NetFunnel.RTYPE_CHK_ENTER=5002,NetFunnel.RTYPE_ALIVE_NOTICE=5003,NetFunnel.RTYPE_SET_COMPLETE=5004,NetFunnel.RTYPE_GET_TID_CHK_ENTER=5101,NetFunnel.RTYPE_INIT=5105,NetFunnel.RTYPE_STOP=5106,NetFunnel.kSuccess=200,NetFunnel.kContinue=201,NetFunnel.kContinueDebug=202,NetFunnel.kTsBypass=300,NetFunnel.kTsBlock=301,NetFunnel.kTsIpBlock=302,NetFunnel.kTsExpressNumber=303,NetFunnel.kTsErrorNoUservice=500,NetFunnel.kTsErrorNoAction=501,NetFunnel.kTsErrorAComplete=502,NetFunnel.kTsErrorWrongServer=503,NetFunnel.kTsErrorTooRecreate=504,NetFunnel.kTsErrorNoKey=505,NetFunnel.kTsErrorInvalidID=506,NetFunnel.kTsErrorInvalidKey=507,NetFunnel.kTsErrorInvalidIdStr=508,NetFunnel.kTsErrorDuplicate=509,NetFunnel.kTsErrorDelAction=510,NetFunnel.kTsErrorUserviceExist=511,NetFunnel.kTsErrorActionExist=512,NetFunnel.kTsErrorLicenseOver=513,NetFunnel.kTsErrorSize=514,NetFunnel.kTsErrorNoUserAction=515,NetFunnel.kTsErrorTooBigKey=516,NetFunnel.kTsErrorInvalidIp=517,NetFunnel.kErrorAuth=900,NetFunnel.kErrorNotFound=901,NetFunnel.kErrorNoinit=902,NetFunnel.kErrorCode=903,NetFunnel.kErrorParam=904,NetFunnel.kErrorData=905,NetFunnel.kErrorUnknownType=906,NetFunnel.kErrorAlready=907,NetFunnel.kErrorService=908,NetFunnel.kErrorExecution=909,NetFunnel.kErrorSock=920,NetFunnel.kErrorSockSend=921,NetFunnel.kErrorSockRecv=922,NetFunnel.kErrorNotFoundLocalIP=925,NetFunnel.kErrorSockConnect=926,NetFunnel.kErrorNoConnect=927,NetFunnel.kErrorSockData=928,NetFunnel.kErrorIO=991,NetFunnel.kErrorArunning=992,NetFunnel.kErrorPermission=993,NetFunnel.kErrorExpiredTime=994,NetFunnel.kErrorOverCounter=995,NetFunnel.kErrorSecurity=996,NetFunnel.kErrorSystemStopping=997,NetFunnel.kErrorNotSupport=998,NetFunnel.kErrorSystem=999,NetFunnel.PS_N_RUNNING=0,NetFunnel.PS_RUNNING=1,NetFunnel.PS_CONTINUE=2,NetFunnel.PS_TIMEOUT=3,NetFunnel.PS_ERROR=99,NetFunnel.CONN_TIMEOUT_KEY="connection_timeout",NetFunnel.gControl=null,NetFunnel.gShowtimeLimit=!1,NetFunnel.gShowcntLimit=!1,NetFunnel.gShownextLimit=!1,NetFunnel.gSkinId="",NetFunnel.gPopupTop=!1,NetFunnel.gPopupLeft=!1,NetFunnel.gTotWait=-1,NetFunnel.gPrevWaitTime=-1,NetFunnel.gLastSkinID="default",NetFunnel.gUseMobileUI=!1,NetFunnel.gUseUnfocus=!1,NetFunnel.gAlreadyProc=0,NetFunnel.gWaitPop=null,NetFunnel.gIPBlockWaitCount=0,NetFunnel.gNWaitCount=0,NetFunnel.gNWaitTemp=0,NetFunnel.gReTimer=null,NetFunnel.gDebugflag=!1,NetFunnel.Util={makeDebugMsg:function(t,e,n,i,o){var r="\n",l="       ",s=(1==o&&(r="<br>",l="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),"Unknown"),u="Unkonwn Error";switch(e){case NetFunnel.RTYPE_GET_TID:s="getTicketID";break;case NetFunnel.RTYPE_CHK_ENTER:s="chkEnter";break;case NetFunnel.RTYPE_ALIVE_NOTICE:s="aliveNotice";break;case NetFunnel.RTYPE_SET_COMPLETE:s="setComplete";break;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:s="getTID+ChkEnter";break;case NetFunnel.RTYPE_INIT:s="Init";break;case NetFunnel.RTYPE_STOP:s="stop";break;default:s="Unknown"}switch(n){case NetFunnel.kSuccess:u="Normal";break;case NetFunnel.kContinue:u="Continue";break;case NetFunnel.kContinueDebug:u="Debug Continue mode";break;case NetFunnel.kTsBypass:u="ServerSide Bypass";break;case NetFunnel.kTsBlock:u="ServerSide Block";break;case NetFunnel.kTsIpBlock:u="ServerSide Ip Block";break;case NetFunnel.kErrorSystem:u="System Error";break;case NetFunnel.kErrorSecurity:u="Security Error";break;case NetFunnel.kErrorIO:u="I/O Error";break;case NetFunnel.kErrorSockConnect:u="Connection Timeout";break;case NetFunnel.kErrorAlready:u="Already Running";break;case NetFunnel.kErrorNoinit:u="Init Error";break;case NetFunnel.E_INSERT:u="Insert Error";break;case NetFunnel.kErrorPermission:u="No Permission";break;case NetFunnel.kErrorExpiredTime:u="Key Expire";break;case NetFunnel.kErrorParam:u="Parameter Error";break;case NetFunnel.E_NOT_STARTED:u="No service time";break;case NetFunnel.kTsErrorNoUserAction:u="No action Error";break;default:u="Unknown Error"}var a,p=t+" "+r+r+"  - type : "+s+" ("+e+")"+r+" - Code : "+u+" ("+n+")"+r+" - Params"+r;for(a in i)p+=l+a+" ---\x3e "+i[a]+r;return p},goNextPage:function(t,e){var n,i=t;for(n in e)i+="&"+n+"="+e[n];document.location.href=i},alertDebugMsg:function(t){alert(t)},decodeBase64:function(t){var e,n,i,o,r,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",a=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=s.indexOf(t.charAt(a++)),e=(15&(o=s.indexOf(t.charAt(a++))))<<4|(r=s.indexOf(t.charAt(a++)))>>2,n=(3&r)<<6|(l=s.indexOf(t.charAt(a++))),u+=String.fromCharCode(i<<2|o>>4),64!=r&&(u+=String.fromCharCode(e)),64!=l&&(u+=String.fromCharCode(n)),a<t.length;);return u},getParam:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(document.location.href);return null===t?"":t[1]},isSmartPhone:function(){var t=["iPhone","iPod","iPad","BlakBerry","Android","WindowsCE","LG","MOT","SAMSUNG","SonyEricsson","Nokia","Webos","Opera mini","Opera mobi","Iemobile"];try{for(var e=0;e<t.length;e++)if(null!==navigator.userAgent.match(t[e]))return!0}catch(t){}return!1},calcStdDev:function(t,e){if("object"!=typeof t)return!1;if(t.length<2)return!1;(1<e||e<0)&&(e=0);for(var n=0,i=0,i=0;i<t.length;i++)n+=parseInt(t[i],10);var o=n/t.length,r=0;for(i=0;i<t.length;i++)r+=(parseInt(t[i],10)-o)*(parseInt(t[i],10)-o);return Math.sqrt(r/(t.length-e))},delFocus:function(t){try{var e=document,n=(e="object"==typeof t&&"object"==typeof t.document?t.document:e).getElementsByTagName("body")[0],i=e.createElement("iframe"),o=(i.style.position="absolute",i.style.width="0px",i.style.height="0px",i.style.border="0px",i.style.top=NetFunnel.PopupUtil.getScrollTop(e),i.style.left=NetFunnel.PopupUtil.getScrollLeft(e),n.appendChild(i),i.focus(),i.parentNode);o&&"object"==typeof o&&o.removeChild(i)}catch(t){}},isVirtualWait:function(t){return"object"==typeof t&&("number"==typeof t.mprotect&&0<t.mprotect)},getTimeStr:function(t,e,n,i){var t=parseInt(t,10),o=(void 0===n&&(n=" "),void 0===i&&(i=!1),0),r=0,l=0,s=0,u=!1,a=!1,p=!1,N=!1,c=!1,g=(e=void 0===e?"%H시간 %M분 %S초":e).match(/%[-]*[0-9]*[H|M|S]/g);for(s=0;s<g.length;s++)"H"==(a=(u=g[s]).charAt(u.length-1))&&(p=!0),"M"==a&&(N=!0),"S"==a&&(c=!0);1==p&&(r=Math.floor(t/3600)),1==N&&(o=1==p?Math.floor(t%3600/60):Math.floor(t/60)),1==c&&(0==p&&0==N?l=t:1==N?l=t%60:1==p&&0==N&&(l=Math.floor(t%3600)));for(var _="",h=e.split(n),d=0;d<h.length;d++){for(var F=h[d],g=F.match(/%[-]*[0-9]*[H|M|S]/g),m=!0,s=0;g&&s<g.length;s++){var f="",T=!1,y="&nbsp;",C=!1,E=0,a=(u=g[s]).charAt(u.length-1);if(2<u.length){for(var S="",b=!0,k=1;k<u.length-1;k++){var P=u[k];"-"==P?C=!0:T="0"==P&&1==b?!(b=!(y="0")):(S+=P,!0)}E=parseInt(S,10)}var I="";if("H"==a?(0==r&&(m=!1),I=""+r):"M"==a?(0==o&&(m=!1),I=""+o):"S"==a&&(I=""+l),T){C&&(f=I);for(var v=E-I.length,x=0;x<v;x++)f+=y;C||(f+=I)}else f=I;F=F.replace(u,f)}1!=i&&1!=m||(_=0<_.length?_+n+F:F)}return _},getFrameWindowList:function(t){for(var e=[],n=0;n<top.frames.length;n++){var i=top.frames[n];i!==t&&e.push({win:i,popup:null})}return e}},NetFunnel.BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(t){for(var e=0;e<t.length;e++){var n=t[e].string,i=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,n){if(-1!=n.indexOf(t[e].subString))return t[e].identity}else if(i)return t[e].identity}return""},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);return-1==e?0:parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},NetFunnel.BrowserDetect.init(),"Explorer"==NetFunnel.BrowserDetect.browser&&("function"!=typeof Array.push&&(Array.prototype.push=function(){for(var t=this.length>>>0,e=0;e<arguments.length;e++)this[t]=arguments[e],t=t+1>>>0;return this.length=t}),"function"!=typeof Array.pop&&(Array.prototype.pop=function(){var t,e=this.length>>>0;return e&&(t=this[--e],delete this[e]),this.length=e,t})),NetFunnel.getCommandStr=function(t,e){var n="",i=0;switch("recv"==t?i=parseInt(e.substring(0,4),10):1<(t=/opcode=([0-9]+)&/.exec(e)).length&&(i=parseInt(t[1],10)),i){case 5101:n="getTidchkEnter";break;case 5002:n="chkEnter      ";break;case 5003:n="aliveNotice   ";break;case 5004:n="setComplete   ";break;default:n="Unknown       "}return n},NetFunnel.writeDebugMsg=function(t,e,n){var i=new Date,o=parseInt(i.getHours(),10),r=parseInt(i.getMinutes(),10),l=parseInt(i.getSeconds(),10),s="",o=(o<10&&(s+="0"),r<10&&(r+="0"),l<10&&(l+="0"),s=(s=s+(o+":")+(r+":"))+l+("."+parseInt(i.getMilliseconds(),10)),""),r="",l="",l="recv"==e?(o="padding-left:1px;",r="#9E9E9E;",s+" | Recv | <b>"+NetFunnel.getCommandStr(e,n)+"</b> | "):(o="margin-top:5px;",r="#EEEEEE;",s+" | Send | <b>"+NetFunnel.getCommandStr(e,n)+"</b> | ");t.document.write("<div onload='this.focus()' style='width:650;overflow:hidden;padding:1px;border:1px solid #eeeeee;margin:0px;font-size:10px;font-family:monospace;background-color:"+r+o+"'>"+l+n.substring(0,50)+"</div>")},NetFunnel.printDebugMsg=function(t,e,n){NetFunnel.debugWindow=window.open("","NetFunnel_debugWindow","status=1,width=700,height=300,resizable=1,scrollbars=1"),"object"==typeof NetFunnel.debugWindow&&NetFunnel.writeDebugMsg(NetFunnel.debugWindow,t,e)},NetFunnel.Storage=function(t){this.html5Support=this.supportsHtml5Storage(),"number"==typeof t&&(this.type=t)},NetFunnel.Storage.prototype.supportsHtml5Storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},NetFunnel.Storage.prototype.html5Support=!1,NetFunnel.Storage.prototype.length=0,NetFunnel.Storage.prototype.type=1,NetFunnel.Storage.prototype.setStorageType=function(t){this.type=t<1||2<t?1:t},NetFunnel.Storage.prototype.getStorage=function(){return 1!=this.type&&2==this.type?sessionStorage:localStorage},NetFunnel.Storage.prototype.setItem=function(t,e,n,i){try{return this.html5Support&&this.getStorage().setItem(t,e),NetFunnel.Cookie.set(t,e,n,i),!0}catch(t){return!1}},NetFunnel.Storage.prototype.setItemStorageOnly=function(t,e,n,i){try{return this.html5Support?this.getStorage().setItem(t,e):NetFunnel.Cookie.set(t,e,n,i),!0}catch(t){return!1}},NetFunnel.Storage.prototype.getItem=function(t,e){var n=!1;try{return n=this.html5Support&&((n=this.getStorage().getItem(t))||null!=e&&0!=e)?n:NetFunnel.Cookie.get(t)}catch(t){return!1}},NetFunnel.Storage.prototype.removeItem=function(t,e){try{return this.html5Support?(this.getStorage().removeItem(t),null!=e&&0!=e||NetFunnel.Cookie.del(t)):NetFunnel.Cookie.del(t),!0}catch(t){return!1}},NetFunnel.Storage.prototype.clear=function(){try{return this.html5Support&&this.getStorage().clear(),!0}catch(t){return!1}},NetFunnel.MProtect=function(){try{for(var t=new NetFunnel.Storage,e=(new Date).getTime(),n=t.getItem("NFMPT.data",!0),i=(null===n&&(n=""),t.getItem("NFMPT.stdData",!0)),o=(null===i&&(i=""),parseInt(t.getItem("NFMPT.lastTime",!0),10)),r=(!isNaN(o)&&null!==o&&""!=o||(o=0),parseInt(t.getItem("NFMPT.reqCnt",!0),10)),l=(!isNaN(r)&&null!==r&&""!=r||(r=0),[]),s=[],u=(""!=n&&(l=n.split(",")),""!=i&&(s=i.split(",")),0!=o&&(l[l.length]=e-o,s[s.length]=e-o),o=e,l.length-1),a=0;0<=u&&!((a+=parseInt(l[u],10))>NetFunnel.MP_TIMELIMIT);u--);var p=s.length-NetFunnel.MP_DEVCNTLIMIT,N=(p<0&&(p=0),s.slice(p)),c=l.slice(u+1),g=(t.setItemStorageOnly("NFMPT.data",c.join(",")),t.setItemStorageOnly("NFMPT.stdData",N.join(",")),t.setItemStorageOnly("NFMPT.lastTime",o+""),t.setItemStorageOnly("NFMPT.reqCnt",++r+""),NetFunnel.Util.calcStdDev(N,0));if(0!=g&&g<NetFunnel.MP_DEVLIMIT)return 2;if(c.length<NetFunnel.MP_MINCOUNT)return 0;if(c.length+1>NetFunnel.MP_MAXREQLIMIT)return 1;if(r>NetFunnel.MP_REQONLYLIMIT)return t.setItemStorageOnly("NFMPT.reqCnt","0"),3}catch(t){}return 0},NetFunnel.ProgressBar=function(t,e,n){if(this._bar=null,this._bar2=null,this._config={},this._totWaitCnt=0,this._wflag=0,this._obj="string"==typeof t?n.getElementById(t):t,this._config.width=360,this._config.height=5,this._config.count=50,this._config.interval=50,this._config.color=this._color,this._config.bgcolor=this._bgcolor,this._config.waitchk=0,"object"==typeof e)for(var i in e)this._config[i]=e[i];this._config.count<=0&&(this._config.count=50),this._oTable=n.createElement("table"),this._oTable.style.width=this._config.width+"px",this._oTable.style.height=this._config.height+"px",this._oTable.style.tableLayout="fixed",this._oTable.cellPadding=0,this._oTable.cellSpacing=0;var t=n.createElement("tbody"),o=n.createElement("tr"),r=n.createElement("td"),n=(r.style.height=this._config.height+"px",r.style.backgroundColor=this._config.bgcolor,n.createElement("td"));n.style.backgroundColor=this._config.bgcolor,o.appendChild(r),o.appendChild(n),t.appendChild(o),this._oTable.appendChild(t),this._obj.appendChild(this._oTable),this._bar=r,this._bar2=n,this.show=function(){this._obj.style.visibility="visible";var t=this;this._timer=setInterval(function(){t._action(0)},this._config.interval)},this.hide=function(){this._obj.style.visibility="hidden",this._timer&&(clearTimeout(this._timer),this._timer=null)},this._action=function(){try{0!=this._config.waitchk&&parseInt(this._config.waitchk,10)<parseInt(NetFunnel.gLastData.nwait,10)&&(NetFunnel.gLastData.nwait=this._config.waitchk),0==this._wflag&&null===NetFunnel.retryData&&(this._wflag=1),this._oTable.style.width=this._config.width+"px",NetFunnel.gTotWait<=0&&(NetFunnel.gTotWait=NetFunnel.gLastData.nwait),parseInt(NetFunnel.gLastData.nwait,10)>parseInt(NetFunnel.gTotWait,10)&&(NetFunnel.gTotWait=NetFunnel.gLastData.nwait);var t=this._config.width-Math.round(NetFunnel.gLastData.nwait/NetFunnel.gTotWait*this._config.width),e=this._config.width-t;this._bar.style.width=t+"px",this._bar.style.backgroundColor=this._config.color,this._bar2.style.width=e+"px",this._bar2.style.backgroundColor=this._config.bgcolor,this._config.waitchk=NetFunnel.gLastData.nwait}catch(t){}return!0}},NetFunnel.ProgressBar.prototype._mmm=0,NetFunnel.ProgressBar.prototype._curr=0,NetFunnel.ProgressBar.prototype._direct=0,NetFunnel.ProgressBar.prototype._obj=null,NetFunnel.ProgressBar.prototype._cells=null,NetFunnel.ProgressBar.prototype._timer=null,NetFunnel.ProgressBar.prototype._oTable=null,NetFunnel.ProgressBar.prototype._config=null,NetFunnel.ProgressBar.prototype._color="#1FC1C0",NetFunnel.ProgressBar.prototype._bgcolor="#503396",NetFunnel.Cookie={set:function(t,e,n,i){t=t+"="+escape(e);void 0!==n&&n.constructor==Number&&0<n&&((e=new Date).setMinutes(e.getMinutes()+n),t+=";expires="+e.toGMTString()),void 0!==i&&i.constructor==String&&""!=i?t+=";domain="+i:""!=NetFunnel.TS_COOKIE_DOMAIN&&(t+=";domain="+NetFunnel.TS_COOKIE_DOMAIN),t+=";path=/;",document.cookie=t},del:function(t){NetFunnel.Cookie.set(t,"",-1)},get:function(t){if(0<document.cookie.length){var e=document.cookie.indexOf(t+"=");if(-1!=e)return e=e+t.length+1,-1==(t=document.cookie.indexOf(";",e))&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}return""}},NetFunnel.getUrlParameters=function(t){if("string"!=typeof t||""==t)return"";var e="",n=document.location.href;if(-1<n.indexOf("?"))for(var i=n.substr(n.indexOf("?")).split("&"),o=0;o<i.length;o++)if(-1<i[o].indexOf(t+"=")){var r=i[o].indexOf(t+"=")+t.length+1,e=i[o].substr(r);break}return unescape(e)},NetFunnel.gPop=null,NetFunnel.gTimer=null,NetFunnel.gLastData=null,NetFunnel.countdown_stop=function(){try{NetFunnel.Util.isVirtualWait(NetFunnel.gLastData)||(NetFunnel.gControl.fireEvent(null,NetFunnel.gControl,"onStop",{next:NetFunnel.gControl.next.stop}),NetFunnel_sendStop(),NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=null),1==NetFunnel.gControl.getConfig("use_frame_block")&&NetFunnel.PopupUtil.hideBlockList(NetFunnel.gControl.getConfig("frame_block_list")))}catch(t){}},NetFunnel.countdown=function(){if(NetFunnel.gLastData&&0<=NetFunnel.gLastData.time_left&&NetFunnel.gPop){var tTime=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_TimeLeft"),tCount=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_Count"),tNext=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_NextCnt"),tformat=(0!=this._gNWaitView&&parseInt(this._gNWaitView,10)<parseInt(NetFunnel.gLastData.nwait,10)&&(NetFunnel.gLastData.nwait=this._gNWaitView),this._gNWaitView=NetFunnel.gLastData.nwait,""),tformat_arr=null,shownext_limit=0,showcnt_limit=0,showtime_limit;tCount&&(showcnt_limit=NetFunnel.gControl.getConfig("showcnt_limit"),0<showcnt_limit&&NetFunnel.gLastData.nwait>showcnt_limit?(tformat=tCount.className,0<tformat.length?tCount.innerHTML=tformat:tCount.innerHTML=NetFunnel.TS_LIMIT_TEXT):tCount.innerHTML=String(NetFunnel.gLastData.nwait)),tNext&&(shownext_limit=NetFunnel.gControl.getConfig("shownext_limit"),null==NetFunnel.gLastData.nnext?tNext.innerHTML="0":0<shownext_limit&&NetFunnel.gLastData.nnext>shownext_limit?(tformat=tNext.className,0<tformat.length?tNext.innerHTML=tformat:tNext.innerHTML=NetFunnel.TS_LIMIT_TEXT):tNext.innerHTML=String(NetFunnel.gLastData.nnext)),tTime&&(showtime_limit=NetFunnel.gControl.getConfig("showtime_limit"),0<showtime_limit&&NetFunnel.gLastData.real_time_left>showtime_limit?(tformat=tTime.className,tformat_arr=tformat.split("^"),4==tformat_arr.length&&0<tformat_arr[3].length?tTime.innerHTML=tformat_arr[3]:5<=tTime.innerHTML.length?tTime.innerHTML=".":tTime.innerHTML+="."):(tformat=tTime.className,0<tformat.length?(tformat_arr=tformat.split("^"),tTime.innerHTML=NetFunnel.Util.getTimeStr(NetFunnel.gLastData.real_time_left,tformat_arr[0],tformat_arr[1],eval(tformat_arr[2]))):tTime.innerHTML=NetFunnel.Util.getTimeStr(NetFunnel.gLastData.real_time_left)));try{"object"==typeof tTime&&("none"==tTime.style.textDecoration?tTime.style.textDecoration="underline":tTime.style.textDecoration="none"),"object"==typeof tTime&&("none"==tNext.style.textDecoration?tNext.style.textDecoration="underline":tNext.style.textDecoration="none"),"object"==typeof tCount&&("none"==tCount.style.textDecoration?tCount.style.textDecoration="underline":tCount.style.textDecoration="none")}catch(e){}}var left_perc,skinObj,self;NetFunnel.gLastData.time_left<=0&&NetFunnel.gTimer?NetFunnel.gPop:(left_perc=0,skinObj=NetFunnel.SkinUtil.get(NetFunnel.gSkinId,NetFunnel.Util.isSmartPhone()),self=("function"==typeof skinObj.updateCallback&&(left_perc=parseInt(NetFunnel.gTotWait,10)<=0?0:(parseInt(NetFunnel.gTotWait,10)<parseInt(NetFunnel.gLastData.nwait,10)&&(NetFunnel.gTotWait=parseInt(NetFunnel.gLastData.nwait,10)),parseInt(100*(NetFunnel.gTotWait-NetFunnel.gLastData.nwait)/NetFunnel.gTotWait,10)),skinObj.updateCallback(left_perc,NetFunnel.gLastData.nwait,NetFunnel.gTotWait,NetFunnel.gLastData.real_time_left,!0)),NetFunnel.gLastData.time_left--,this),NetFunnel.gTimer=setTimeout(function(){self.countdown()},500))},NetFunnel.SkinUtil={prevID:"",add:function(t,e,n){try{return"string"!=typeof t||""==t?!1:"object"==typeof e&&("string"==typeof n&&""!=n||(n="normal"),"object"!=typeof NetFunnel.Skin[t]&&(NetFunnel.Skin[t]={}),NetFunnel.Skin[t][n]=e,NetFunnel.gLastSkinID=t,!0)}catch(t){return!1}},get:function(t,e){try{"string"==typeof t&&""!=t||(t=NetFunnel.gLastSkinID);var n="normal";return 1==NetFunnel.gUseMobileUI&&1==e&&(n="mobile"),"object"==typeof NetFunnel.Skin[t]&&"object"==typeof NetFunnel.Skin[t][n]?NetFunnel.Skin[t][n]:(""!=NetFunnel.TS_SKIN_ID&&NetFunnel.TS_SKIN_ID!=t&&"object"==typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID]&&"object"==typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID][n]?NetFunnel.Skin[NetFunnel.TS_SKIN_ID]:NetFunnel.Skin.default)[n]}catch(t){}return NetFunnel.Skin.default.normal}},NetFunnel.SkinUtil.add("default",{htmlStr:' \t\t\t<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;overflow:hidden;width:250px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;" > \t\t\t\t<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> \t\t\t\t\t<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> \t\t\t\t\t</div>\t\t\t\t\t<div style="padding-top:5px;padding-left:5px;padding-right:5px"> \t\t\t\t\t\t<div style="text-align:center;font-size:12pt;color:#001f6c;height:22px"><b><span style="color:#013dc1">접속대기 중</span>입니다.</b></div> \t\t\t\t\t\t<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px;" ><b>예상시간 : <span id="NetFunnel_Loading_Popup_TimeLeft" class="%M분 %02S초^ ^false"></span></b></div> \t\t\t\t\t\t<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:228px" id="NetFunnel_Loading_Popup_Progressbar"></div> \t\t\t\t\t\t<div style="background-color:#ededed;padding-bottom:8px;overflow:hidden;width:228px"> \t\t\t\t\t\t\t<div style="padding-left:5px"> \t\t\t\t\t\t\t\t<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;padding-bottom:10px;height:10px">앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count" class="'+NetFunnel.TS_LIMIT_TEXT+'"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt" class="'+NetFunnel.TS_LIMIT_TEXT+'"></span></span></b> 명의 대기자가 있습니다.</div> \t\t\t\t\t\t\t\t<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:12px">현재 접속자가 많아 대기 중이며</div> \t\t\t\t\t\t\t\t<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">잠시만 기다리시면</div> \t\t\t\t\t\t\t\t<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> \t\t\t\t\t\t\t\t<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> \t\t\t\t\t\t\t\t\t<b>[<span id="NetFunnel_Countdown_Stop" style="cursor:pointer">중지</span>]</b> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t<div style="height:5px;"></div> \t\t\t\t</div> \t\t\t</div>'},"mobile"),NetFunnel.tstr='\t<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;width:458px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> \t\t<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> \t\t\t<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> \t\t\t<b><span id="NetFunnel_Loding_Popup_Debug_Alerts" style="text-align:left;color:#ff0000"></span></b> \t\t\t<span style="text-align:right;"><a href="'+NetFunnel.gLogoURL+'" target="_blank" title="NetFunnel" style="cursor:pointer;text-decoration:none;">',"Explorer"==NetFunnel.BrowserDetect.browser&&"6"==NetFunnel.BrowserDetect.version||""==NetFunnel.gLogoData?NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+"</b></a>":NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+'</b><img style="height:16px;color:black;font-size:11px;" border=0 src="data:image/gif;base64,'+NetFunnel.gLogoData+'" ></a>',NetFunnel.tstr+='</span></div> \t\t\t<div style="padding-top:0px;padding-left:25px;padding-right:25px"> \t\t\t\t<div style="text-align:left;font-size:12pt;color:#001f6c;height:22px"><b>서비스 <span style="color:#013dc1">접속대기 중</span>입니다.</b></div> \t\t\t\t<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px" ><b>예상대기시간 : <span id="NetFunnel_Loading_Popup_TimeLeft" class="%H시간 %M분 %02S초^ ^false"></span></b></div> \t\t\t\t<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:400px;height:20px" id="NetFunnel_Loading_Popup_Progressbar"></div> \t\t\t\t<div style="background-color:#ededed;width:400px;padding-bottom:8px;overflow:hidden"> \t\t\t\t\t<div style="padding-left:5px"> \t\t\t\t\t\t<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;height:10px">고객님 앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count" class="'+NetFunnel.TS_LIMIT_TEXT+'"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt" class="'+NetFunnel.TS_LIMIT_TEXT+'"></span></span></b> 명의 대기자가 있습니다.  </div> \t\t\t\t\t\t<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px">현재 접속 사용자가 많아 대기 중이며, 잠시만 기다리시면 </div> \t\t\t\t\t\t<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> \t\t\t\t\t\t<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> \t\t\t\t\t\t\t<b>※ 재 접속하시면 대기시간이 더 길어집니다. <span id="NetFunnel_Countdown_Stop" style="cursor:pointer">[중지]</span> </b> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t</div> \t\t\t\t<div style="height:5px;"></div> \t\t\t</div> \t\t</div> \t</div>',NetFunnel.SkinUtil.add("default",{htmlStr:NetFunnel.tstr},"normal"),NetFunnel.PopupSetup=function(t,e,n){null!==n&&""!=n||(n=NetFunnel.gSkinId);n=NetFunnel.SkinUtil.get(n,NetFunnel.Util.isSmartPhone());"vcontinue"===t&&(e.data.nwait=1e6,e.data.ttl="2",e.data.tps=1),"alert"!=t&&"object"==typeof e&&(NetFunnel.gLastData=e.data,NetFunnel.gLastData.time_left=parseInt(e.data.ttl,10),NetFunnel.gLastData.tps=parseInt(e.data.tps,10),0==NetFunnel.gLastData.tps&&(NetFunnel.gLastData.tps=1),NetFunnel.gLastData.real_time_left=Math.round(parseInt(e.data.nwait,10)/NetFunnel.gLastData.tps),NetFunnel.gLastData.real_time_left<1&&(NetFunnel.gLastData.real_time_left=1),-1<NetFunnel.gPrevWaitTime&&NetFunnel.gLastData.real_time_left>NetFunnel.gPrevWaitTime&&(NetFunnel.gLastData.real_time_left=NetFunnel.gPrevWaitTime),NetFunnel.gPrevWaitTime=NetFunnel.gLastData.real_time_left,NetFunnel.gTotWait<0&&(NetFunnel.gTotWait=NetFunnel.gLastData.nwait)),NetFunnel.gPop||(NetFunnel.gPop=new NetFunnel.Popup(n.htmlStr,NetFunnel.gPopupTop,NetFunnel.gPopupLeft,NetFunnel.gControl.getConfig("popup_target"),!1,!1,NetFunnel.gControl.getConfig("popup_zindex")),"function"==typeof n.prepareCallback&&n.prepareCallback(),this._gNWaitView=0),NetFunnel.gPop.show();NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts")&&(NetFunnel.gDebugflag?NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts").innerHTML=" Debug Mode ":NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts").innerHTML=""),1==NetFunnel.gControl.getConfig("use_frame_block")&&NetFunnel.PopupUtil.showBlockList(NetFunnel.gControl.getConfig("frame_block_list")),"alert"!=t&&NetFunnel.countdown()},NetFunnel.DefaultCallback={onSuccess:function(t,e,n){NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=!0),1==n.getConfig("use_frame_block")&&NetFunnel.PopupUtil.hideBlockList(n.getConfig("frame_block_list")),"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&DefaultCallback_onSuccess(t,e,n),NetFunnel.gPop=null},onContinued:function(t,e,n){"string"==typeof e.next?document.location.href=e.next:"function"==typeof e.next&&0==e.next(t,e)||e.rtype!=NetFunnel.RTYPE_CHK_ENTER&&e.rtype!=NetFunnel.RTYPE_GET_TID_CHK_ENTER||(NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.PopupSetup("continue",e,NetFunnel.gSkinId))},onError:function(t,e,n){NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=null),1==n.getConfig("use_frame_block")&&NetFunnel.PopupUtil.hideBlockList(n.getConfig("frame_block_list")),"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&e.next(t,e)},onStop:function(t,e){"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&e.next(t,e)},onBypass:function(t,e,n){NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=null),1==n.getConfig("use_frame_block")&&NetFunnel.PopupUtil.hideBlockList(n.getConfig("frame_block_list")),"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&e.next(t,e)},onExpressnumber:function(t,e,n){NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=null),1==n.getConfig("use_frame_block")&&NetFunnel.PopupUtil.hideBlockList(n.getConfig("frame_block_list")),"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&e.next(t,e)},onBlock:function(t,e,n){NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.gPop&&(NetFunnel.gPop.hide(),NetFunnel.gPop.destroy(),delete NetFunnel.gPop,NetFunnel.gPop=null),"string"==typeof e.next&&""!=e.next?document.location.href=e.next:"function"==typeof e.next&&0==e.next(t,e)||("string"!=typeof n.getConfig("block_url")||""==n.getConfig("block_url")?""==n.getConfig("block_msg")||"string"!=typeof n.getConfig("block_msg")?alert("[NetFUNNEL]Service Block!"):alert(n.getConfig("block_msg")):document.location.href=n.getConfig("block_url"))},onIpBlock:function(t,e){"string"==typeof e.next?document.location.href=e.next:"function"==typeof e.next&&0==e.next(t,e)||(NetFunnel.gTimer&&clearTimeout(NetFunnel.gTimer),NetFunnel.PopupSetup("vcontinue",e,NetFunnel.gSkinId))}},NetFunnel.Event=function(){this.events=[],this.builtinEvts=[]},NetFunnel.Event.prototype.getActionIdx=function(t,e,n,i){if(t&&e){var o=this.events[t][e];if(!o)return-1;for(var r=o.length-1;0<=r;r--)if(o[r].action==n&&o[r].binding==i)return r}return-1},NetFunnel.Event.prototype.addListener=function(t,e,n,i){var o;this.events[t]?this.events[t][e]?-1==this.getActionIdx(t,e,n,i)&&((o=this.events[t][e])[o.length]={action:n,binding:i}):(this.events[t][e]=[],this.events[t][e][0]={action:n,binding:i}):(this.events[t]=[],this.events[t][e]=[],this.events[t][e][0]={action:n,binding:i})},NetFunnel.Event.prototype.removeListener=function(t,e,n,i){this.events[t]&&this.events[t][e]&&0<=(n=this.actionExists(t,e,n,i))&&this.events[t][e].splice(n,1)},NetFunnel.Event.prototype.fireEvent=function(t,e,n,i){if(t=t||window.event,e&&this.events){var o=this.events[e];if(o){var r=o[n];if(r)for(var l=0;r.length>l;l++){var s=r[l].action;(s=r[l].binding?s.bind(r[l].binding):s)(t,i,e)}}}},NetFunnel.gPopup=[],NetFunnel.PopupUtil={getViewportHeight:function(t,e){return t.innerHeight!=t.undefined?t.innerHeight:"CSS1Compat"==e.compatMode?e.documentElement.clientHeight:e.body?e.body.clientHeight:t.undefined},getViewportWidth:function(t,e){return t.innerWidth!=t.undefined?t.innerWidth:"CSS1Compat"==e.compatMode?e.documentElement.clientWidth:e.body?e.body.clientWidth:0},getScrollTop:function(t){return t.pageYOffset||(t.documentElement&&"number"==typeof t.documentElement.scrollTop?t.documentElement.scrollTop:t.body?t.body.scrollTop:0)},getScrollLeft:function(t){return t.pageXOffset||(t.documentElement&&"number"==typeof t.documentElement.scrollLeft?t.documentElement.scrollLeft:t.body?t.body.scrollLeft:0)},resizePopup:function(){for(var t=0;NetFunnel.gPopup.length>t;t++)NetFunnel.gPopup[t]._centerPopWin()},getObjWidth:function(t){if(!t)return 0;return parseInt(t.style.width,10)>parseInt(t.offsetWidth,10)?parseInt(t.style.width,10):t.offsetWidth},getObjHeight:function(t){if(!t)return 0;return parseInt(t.style.height,10)>parseInt(t.offsetHeight,10)?parseInt(t.style.height,10):t.offsetHeight},showBlockList:function(t){for(var e=0;e<t.length;e++)try{var n=t[e];n.popup=new NetFunnel.Popup("",NetFunnel.gPopupTop,NetFunnel.gPopupLeft,n.win,!1,!1,NetFunnel.gControl.getConfig("popup_zindex")),n.popup.show()}catch(t){}},hideBlockList:function(t){for(var e=0;e<t.length;e++)try{var n=t[e];n.popup&&(n.popup.hide(),n.popup.destroy(),delete n.popup,n.popup=null)}catch(t){}},hideWaitPopup:function(){"object"==typeof NetFunnel&&NetFunnel.gWaitPop&&(NetFunnel.gWaitPop.hide(),NetFunnel.gWaitPop.destroy(),NetFunnel.gWaitPop=null)},showWaitPopup:function(){var t;"object"==typeof NetFunnel&&(t='<div style="padding:2px;border:1px solid darkgray;"> \t\t\t\t<table> \t\t\t\t\t<tr>',"Explorer"==NetFunnel.BrowserDetect.browser&&"6"==NetFunnel.BrowserDetect.version?t+="<td></td>":t+='<td><img style="" border=0 src="data:image/gif;base64,'+NetFunnel.gPreWaitData+'" ></td>',NetFunnel.gWaitPop=new NetFunnel.Popup(t+='\t<td style="valign:middle;font-size:9pt">wait...</td> \t\t\t\t\t</tr> \t\t\t\t</table> \t\t\t</div>',!1,!1,NetFunnel.gControl,!0,"NetFunnel_Waiting_Popup",NetFunnel.gControl.getConfig("popup_zindex")),NetFunnel.gWaitPop.show())},getDocumentEntireHeight:function(t){var e=t.body,t=t.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},NetFunnel.Popup=function(t,e,n,i,o,r,l){"object"==typeof i&&"object"==typeof(this._mWin=i).document?this._mDoc=i.document:(this._mWin=window,this._mDoc=document),"boolean"!=typeof o&&(o=!1),"string"!=typeof r&&(r="NetFunnel_Loading_Popup"),void 0===l||isNaN(l)||(this._mZindex=l);var s,u,i=this._mDoc.getElementsByTagName("BODY")[0];i&&((l=this._mDoc.getElementById(r))&&NetFunnel.SkinUtil.prevID==NetFunnel.gSkinId||((l=this._mDoc.createElement("div")).id=r,l.style.display="none",l.style.top=0,l.style.left=0,l.innerHTML=t,i.appendChild(l),(r=this._mDoc.getElementById("NetFunnel_Loading_Popup_Progressbar"))&&(t={count:50,interval:50},s=parseInt(r.style.width,10),u=parseInt(r.style.height,10),isNaN(s)||(t.width=s),isNaN(u)||(t.height=u),(s=new NetFunnel.ProgressBar(r,t,this._mDoc)).show(),this._mProgress=s),(u=this._mDoc.getElementById("NetFunnel_Countdown_Stop"))&&(u.onclick=NetFunnel.countdown_stop),this.new_draw=!0),NetFunnel.SkinUtil.prevID=NetFunnel.gSkinId,r=this._mDoc.getElementById("mpopup_bg"),t=this._mDoc.getElementById("pop_iframe"),r||((r=this._mDoc.createElement("div")).id="mpopup_bg",r.innerHTML="<div style='width:100%; height=100%'>&nbsp;</div>",r.style.background="rgba(0,0,0,0.7)",r.style.position="absolute",r.style.zIndex=this._mZindex+1,r.style.top="0px",r.style.left="0px",r.style.width="100%",r.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px",r.style.margin="0",r.style.padding="0",r.style.border="0px solid black",r.fontSize="0",i.appendChild(r)),t||((t=this._mDoc.createElement("iframe")).id="pop_iframe",t.frameborder="0",t.border="0",t.framespacing="0",t.marginheight="0",t.marginwidth="0",o?(t.style.opacity="0",t.style.filter="alpha(opacity=0)"):(t.style.opacity="0.5",t.style.filter="alpha(opacity=50)"),t.style.zIndex=this._mZindex,t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px",t.style.position="absolute",t.style.border="0px solid #FFFFFF",t.style.backgroundColor="#FFFFFF",(i=this._mDoc.getElementsByTagName("BODY")[0]).appendChild(t)),l.style.position="absolute",l.style.visibility="hidden",this._mCount++,this._mMask=r,this._mPopIFrame=t,this._mObj=l,this._mTop=e,this._mLeft=n,this.mid="mpopup_"+this._mCount,this.addListener(this._mWin,"resize",NetFunnel.PopupUtil.resizePopup),NetFunnel.gPopup.push(this))},NetFunnel.Popup.prototype=new NetFunnel.Event,NetFunnel.Popup.prototype._mCount=0,NetFunnel.Popup.prototype._mid="",NetFunnel.Popup.prototype._mWin=window,NetFunnel.Popup.prototype._mDoc=document,NetFunnel.Popup.prototype._mObj=null,NetFunnel.Popup.prototype._mMask=null,NetFunnel.Popup.prototype._mPopIFrame=null,NetFunnel.Popup.prototype._mIsShown=!1,NetFunnel.Popup.prototype._mIframeResize=NetFunnel.TS_IFRAME_RESIZE,NetFunnel.Popup.prototype._mProgress=null,NetFunnel.Popup.prototype._mZindex=NetFunnel.TS_POPUP_ZINDEX,NetFunnel.Popup.prototype._setMaskSize=function(){var t,e,n=this._mDoc.getElementsByTagName("BODY")[0];n&&(t=0,t=1==NetFunnel.Util.isSmartPhone()?NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc):NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc),e=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc),t>n.scrollHeight||n.scrollHeight,e>n.scrollWidth||n.scrollWidth)},NetFunnel.Popup.prototype._centerPopWin=function(){var t,e,n,i;this._mIsShown&&(e=this._mDoc.getElementsByTagName("BODY")[0])&&(t=1==NetFunnel.Util.isSmartPhone()?window:"Explorer"==NetFunnel.BrowserDetect.browser?this._mDoc:this._mWin,t=parseInt(NetFunnel.PopupUtil.getScrollTop(t),10),e=parseInt(e.scrollLeft,10),this._setMaskSize(),n=0,n=1==NetFunnel.Util.isSmartPhone()?NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc):NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc),i=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc),"number"==typeof this._mTop?this._mObj.style.top=this._mTop+"px":this._mObj.style.top=t+(n-NetFunnel.PopupUtil.getObjHeight(this._mObj))/2+"px","number"==typeof this._mLeft?this._mObj.style.left=this._mLeft+"px":this._mObj.style.left=e+(i-NetFunnel.PopupUtil.getObjWidth(this._mObj))/2+"px",this._mIframeResize&&"object"==typeof this._mPopIFrame&&(this._mPopIFrame.style.top=this._mObj.style.top,this._mPopIFrame.style.left=this._mObj.style.left,this._mPopIFrame.style.width=this._mObj.style.width,this._mPopIFrame.style.height=parseInt(this._mObj.style.height,10)+6))},NetFunnel.Popup.prototype.getObj=function(t){return this._mDoc.getElementById(t)},NetFunnel.Popup.prototype.show=function(){var t=this._mDoc.getElementsByTagName("BODY")[0];t&&(t.style.overflow="auto",this._mObj.style.zIndex=this._mZindex+2,this._mObj.style.visibility="visible",this._mObj.style.display="block",this._mMask.style.visiblity="visible",this._mMask.style.display="block",this._mPopIFrame.style.visiblity="visible",this._mPopIFrame.style.display="block",this._mIsShown=!0,this._centerPopWin())},NetFunnel.Popup.prototype.hide=function(){var t=this._mDoc.getElementsByTagName("BODY")[0];t&&(t.style.overflow="auto",this._mObj.style.visibility="hidden",this._mObj.style.display="none",this._mMask.style.visiblity="hidden",this._mMask.style.display="none",this._mPopIFrame.style.visiblity="hidden",this._mPopIFrame.style.display="none",this._mIsShown=!1)},NetFunnel.Popup.prototype.destroy=function(){var t=this._mDoc.getElementsByTagName("BODY")[0];if(t){var e=NetFunnel.gPopup.length;try{var n=this._mDoc.getElementById("mpopup_bg");t.removeChild(n)}catch(t){}try{var i=this._mDoc.getElementById("pop_iframe");t.removeChild(i)}catch(t){}for(var o=0;o<e;o++){var r=NetFunnel.gPopup.pop();if(r.mid==this.mid)try{t.removeChild(r._mObj)}catch(t){}else NetFunnel.gPopup.push(r)}this._mProgress&&this._mProgress.hide()}},NetFunnel.RetVal=function(t){this._mParam={},this._mRtype=parseInt(t.substr(0,4),10),this._mCode=parseInt(t.substr(5,3),10),this._mRetStr=t.substr(9,t.length-9),this._parse()},NetFunnel.RetVal.prototype._ltrim=function(t){for(var e=0;e<t.length&&this._isWhitespace(t.charAt(e));e++);return t.substring(e,t.length)},NetFunnel.RetVal.prototype._rtrim=function(t){for(var e=t.length-1;0<=e&&this._isWhitespace(t.charAt(e));e--);return t.substring(0,e+1)},NetFunnel.RetVal.prototype._trim=function(t){return this._ltrim(this._rtrim(t))},NetFunnel.RetVal.prototype._isWhitespace=function(t){return-1!=" \t\n\r\f".indexOf(t)},NetFunnel.RetVal.prototype._parse=function(){for(var t,e,n=this._mRetStr.split("&"),i=0;n.length>i;i++)1<(e=n[i].split("=")).length&&(t=this._trim(e[0]),e=this._trim(e[1]),this._mParam[t]=e)},NetFunnel.RetVal.prototype.getRetCode=function(){return this._mCode},NetFunnel.RetVal.prototype.setRetCode=function(t){return this._mCode=t,this._mCode},NetFunnel.RetVal.prototype.getReqType=function(){return this._mRtype},NetFunnel.RetVal.prototype.setReqType=function(t){return this._mRtype=t,this._mRtype},NetFunnel.RetVal.prototype.getRetStr=function(){return this._mRetStr},NetFunnel.RetVal.prototype.getValue=function(t){try{return this._mParam[t]}catch(t){return null}},NetFunnel.RetVal.prototype.setValue=function(t,e){var n=null;try{return this.isKeyExist(t)&&(n=this.getValue(t)),this._mParam[t]=e,n}catch(t){return null}},NetFunnel.RetVal.prototype.getNumber=function(t){try{return parseInt(this._mParam[t],10)}catch(t){return 0}},NetFunnel.RetVal.prototype.isKeyExist=function(t){try{if(null!==this._mParam[t])return!0}catch(t){}return!1},NetFunnel.RetVal.prototype.getParam=function(){return this._mParam},NetFunnel.TsClient=function(t,e){if(this.mConfig={},this.mConfig.host=NetFunnel.TS_HOST,this.mConfig.port=NetFunnel.TS_PORT,this.mConfig.proto=NetFunnel.TS_PROTO,this.mConfig.query=NetFunnel.TS_QUERY,this.mConfig.max_ttl=NetFunnel.TS_MAX_TTL,this.mConfig.conn_timeout=NetFunnel.TS_CONN_TIMEOUT,this.mConfig.conn_retry=NetFunnel.TS_CONN_RETRY,this.mConfig.cookie_id=NetFunnel.TS_COOKIE_ID,this.mConfig.cookie_time=NetFunnel.TS_COOKIE_TIME,this.mConfig.cookie_domain=NetFunnel.TS_COOKIE_DOMAIN,this.mConfig.showcnt_limit=NetFunnel.TS_SHOWCNT_LIMIT,this.mConfig.showtime_limit=NetFunnel.TS_SHOWTIME_LIMIT,this.mConfig.shownext_limit=NetFunnel.TS_SHOWNEXT_LIMIT,this.mConfig.popup_top=NetFunnel.TS_POPUP_TOP,this.mConfig.popup_left=NetFunnel.TS_POPUP_LEFT,this.mConfig.skin_id=NetFunnel.TS_SKIN_ID,this.mConfig.use_unfocus=NetFunnel.TS_USE_UNFOCUS,this.mConfig.virt_wait=NetFunnel.TS_VIRT_WAIT,this.mConfig.use_mobile_ui=NetFunnel.TS_USE_MOBILE_UI,this.mConfig.mp_use=NetFunnel.MP_USE,this.mConfig.use_frame_block=NetFunnel.TS_USE_FRAME_BLOCK,this.mConfig.frame_block_list=NetFunnel.TS_FRAME_BLOCK_LIST,this.mConfig.use_pre_wait=NetFunnel.TS_USE_PRE_WAIT,this.mConfig.popup_target=NetFunnel.TS_POPUP_TARGET,this.mConfig.user_data=!1,this.mConfig.user_data_keys=NetFunnel.TS_USER_DATA_KEYS,this.mConfig.block_msg=NetFunnel.TS_BLOCK_MSG,this.mConfig.block_url=NetFunnel.TS_BLOCK_URL,this.mConfig.ipblock_wait_count=NetFunnel.TS_IPBLOCK_WAIT_COUNT,this.mConfig.ipblock_wait_time=NetFunnel.TS_IPBLOCK_WAIT_TIME,this.mConfig.service_id=NetFunnel.TS_SERVICE_ID,this.mConfig.action_id=NetFunnel.TS_ACTION_ID,this.mConfig.show_wait_popup=NetFunnel.TS_SHOW_WAIT_POPUP,this.mConfig.config_use=NetFunnel.TS_CONFIG_USE,this.mConfig.popup_zindex=NetFunnel.TS_POPUP_ZINDEX,this.mConfig.ip_error_retry=NetFunnel.TS_IP_ERROR_RETRY,this.mConfig._host_changed=!1,this.mConfig._port_changed=!1,"object"==typeof t)for(var n in t)this.mConfig[n]=t[n],"host"==n&&(this.mConfig._host_changed=!0),"port"==n&&(this.mConfig._port_changed=!0);NetFunnel.gPopupLeft=this.mConfig.popup_left,NetFunnel.gPopupTop=this.mConfig.popup_top,NetFunnel.gPopupLeft=this.mConfig.popup_left,NetFunnel.gBlockList=this.mConfig.block_list,""==this.mConfig.skin_id?NetFunnel.gSkinId=NetFunnel.TS_SKIN_ID:NetFunnel.gSkinId=this.mConfig.skin_id,"boolean"!=typeof this.mConfig.use_unfocus&&("string"==typeof this.mConfig.use_unfocus&&"true"==this.mConfig.use_unfocus?this.mConfig.use_unfocus=!0:this.mConfig.use_unfocus=!1),NetFunnel.gUseUnfocus=this.mConfig.use_unfocus,"boolean"!=typeof this.mConfig.use_mobile_ui&&("string"==typeof this.mConfig.use_mobile_ui&&"true"==this.mConfig.use_mobile_ui?this.mConfig.use_mobile_ui=!0:this.mConfig.use_mobile_ui=!1),NetFunnel.gUseMobileUI=this.mConfig.use_mobile_ui,"boolean"!=typeof this.mConfig.use_frame_block&&("string"==typeof this.mConfig.use_frame_block&&"true"==this.mConfig.use_frame_block?this.mConfig.use_frame_block=!0:this.mConfig.use_frame_block=!1),1==this.mConfig.use_frame_block?this.mConfig.frame_block_list.length<1&&(this.mConfig.frame_block_list=NetFunnel.Util.getFrameWindowList(this.mConfig.popup_target)):this.mConfig.frame_block_list=[],this.id=0,NetFunnel.TsClient._Objects[this.id]=this,NetFunnel.TsClient._Count+=1,e.onSuccess&&this.addListener(this,"onSuccess",e.onSuccess),e.onContinued&&this.addListener(this,"onContinued",e.onContinued),e.onBypass&&this.addListener(this,"onBypass",e.onBypass),e.onBlock&&this.addListener(this,"onBlock",e.onBlock),e.onIpBlock&&this.addListener(this,"onIpBlock",e.onIpBlock),e.onError&&this.addListener(this,"onError",e.onError),e.onStop&&this.addListener(this,"onStop",e.onStop),e.onExpressnumber&&this.addListener(this,"onExpressnumber",e.onExpressnumber),this.counter[NetFunnel.RTYPE_NONE]=0,this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0,this.counter[NetFunnel.RTYPE_GET_TID]=0,this.counter[NetFunnel.RTYPE_CHK_ENTER]=0,this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0,this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0,this.counter[NetFunnel.RTYPE_INIT]=0,this.counter[NetFunnel.RTYPE_STOP]=0,this.connTimeout=function t(){if(this!=NetFunnel.gControl)return t.apply(NetFunnel.gControl,arguments);if(0!=NetFunnel.gAlreadyProc)return!1;if(this._resetScript(),this.counter[this._mReqType]<this.mConfig.conn_retry)switch(this._mStatus=NetFunnel.PS_TIMEOUT,this.counter[this._mReqType]+=1,this._mReqType){case NetFunnel.RTYPE_GET_TID:return this.getTicketID(this.user_id,this.user_tid,!1),!0;case NetFunnel.RTYPE_CHK_ENTER:return this.chkEnter(this.key,!1),!0;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:return this.getTidChkEnter(this.user_id,this.user_tid,!1),!0;case NetFunnel.RTYPE_ALIVE_NOTICE:return this.aliveNotice(this.key,"","",!1),!0;case NetFunnel.RTYPE_SET_COMPLETE:return this.setComplete(this.key,"","",!1),!0}return NetFunnel.PopupUtil.hideWaitPopup(),this._mReqType!=NetFunnel.RTYPE_CHK_ENTER&&this._mReqType!=NetFunnel.RTYPE_GET_TID_CHK_ENTER||new NetFunnel.Storage(2).setItem(this.mConfig.cookie_id,"5002:200:key="+NetFunnel.CONN_TIMEOUT_KEY,1,this.mConfig.cookie_domain),!(1<=NetFunnel.gAlreadyProc)&&(this.fireEvent(null,this,"onError",{rtype:this._mReqType,code:NetFunnel.kErrorSockConnect,data:{msg:"Connection Timeout"},next:this.next.error}),this._mStatus=NetFunnel.PS_ERROR,!0)}},NetFunnel.TsClient._Count=0,NetFunnel.TsClient._Objects={},NetFunnel.TsClient.prototype=new NetFunnel.Event,NetFunnel.TsClient.prototype._initDone=!1,NetFunnel.TsClient.prototype.id=null,NetFunnel.TsClient.prototype.mConfig=null,NetFunnel.TsClient.prototype.key=null,NetFunnel.TsClient.prototype.script=null,NetFunnel.TsClient.prototype.alarm=null,NetFunnel.TsClient.prototype._mReqType=NetFunnel.RTYPE_NONE,NetFunnel.TsClient.prototype._mMousePos=0,NetFunnel.TsClient.prototype._mNoActTime=0,NetFunnel.TsClient.prototype._mStatus=NetFunnel.PS_N_RUNNING,NetFunnel.TsClient.prototype.counter={},NetFunnel.TsClient.prototype.next={success:"",error:""},NetFunnel.TsClient.prototype.init=function(){this._nCount++,this._initDone=!0},NetFunnel.TsClient.prototype.getConfig=function(t){return this.mConfig[t]},NetFunnel.TsClient.prototype._isNoAction=function(){return this._mMousePos==NetFunnel.MouseX||(this._mMousePos=NetFunnel.MouseX,!1)},NetFunnel.TsClient.prototype._resetAlarm=function(){null!==this.alarm&&clearTimeout(this.alarm),this.alarm=null},NetFunnel.TsClient.prototype._resetReTimer=function(){null!==NetFunnel.gReTimer&&clearTimeout(NetFunnel.gReTimer),NetFunnel.gReTimer=null},NetFunnel.TsClient.prototype._resetRetryTimer=function(){null!==this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null},NetFunnel.TsClient.prototype._resetScript=function(){try{var t;!this.script||"object"!=typeof this.script||(t=this.script.parentNode)&&"object"==typeof t&&t.removeChild(this.script)}catch(t){}this.script=null},NetFunnel.TsClient.prototype.getUserdata=function(){try{var userdata="",uKey=this.mConfig.user_data_keys;if("string"==typeof this.mConfig.user_data)return this.mConfig.user_data;if("Array"!=Object.prototype.toString.call(uKey).slice(8,-1))return!1;for(var i=0;i<uKey.length;i++){var keydata=uKey[i];if("object"==typeof keydata){if("v"==keydata.type)try{if(userdata=eval(keydata.key),""!=userdata)break}catch(e){}if("c"==keydata.type&&(userdata=NetFunnel.Cookie.get(keydata.key),""!=userdata))break}}return userdata}catch(e){return!1}},NetFunnel.TsClient.prototype._showResult=function(){if(this._resetAlarm(),1!=NetFunnel.gAlreadyProc||NetFunnel.gRtype!=NetFunnel.RTYPE_GET_TID_CHK_ENTER)switch(NetFunnel.gAlreadyProc=1,NetFunnel.PopupUtil.hideWaitPopup(),this.retval=new NetFunnel.RetVal(this.result),this.retval.getReqType()==NetFunnel.RTYPE_GET_TID_CHK_ENTER&&this.retval.setReqType(NetFunnel.RTYPE_CHK_ENTER),NetFunnel.TS_DEBUG_MODE&&NetFunnel.printDebugMsg("recv",this.result),NetFunnel.ttl=0,this.counter[this._mReqType]=0,this.retval.getRetCode()==NetFunnel.kContinueDebug?NetFunnel.gDebugflag=!0:NetFunnel.gDebugflag=!1,this.retval.getReqType()){case NetFunnel.RTYPE_GET_TID:this._showResultGetTicketID(this.retval);break;case NetFunnel.RTYPE_CHK_ENTER:this._showResultChkEnter(this.retval);break;case NetFunnel.RTYPE_ALIVE_NOTICE:this._showResultAliveNotice(this.retval);break;case NetFunnel.RTYPE_SET_COMPLETE:this._showResultSetComplete(this.retval);break;default:new NetFunnel.Storage(2).removeItem(this.mConfig.cookie_id),this.fireEvent(null,this,"onError",{rtype:NetFunnel.RTYPE_NONE,code:this.retval.getRetCode(),data:this.retval.getParam(),next:this.next.error}),this._mStatus=NetFunnel.PS_ERROR}},NetFunnel.TsClient.prototype._showResultGetTicketID=function(t){var e=new NetFunnel.Storage(2);t.getRetCode()===NetFunnel.kSuccess?(e.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success})):(e.removeItem(this.mConfig.cookie_id),this._mStatus=NetFunnel.PS_ERROR,this.fireEvent(null,this,"onError",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.error}))},NetFunnel.TsClient.prototype._showResultChkEnter=function(t){var e=this,n=new NetFunnel.Storage(2);switch(t.getRetCode()){case NetFunnel.kSuccess:n.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this._mStatus=NetFunnel.PS_N_RUNNING,NetFunnel.gNWaitTemp=0,NetFunnel.gNWaitCount=0,this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:this._mStatus=NetFunnel.PS_CONTINUE;var i=t.getNumber("ttl"),o=(i>this.mConfig.max_ttl&&(i=this.mConfig.max_ttl,t.setValue("ttl",i)),t.getNumber("nwait"));if(NetFunnel.TS_NWAIT_BYPASS&&(NetFunnel.gNWaitTemp==o?NetFunnel.gNWaitCount+=1:(NetFunnel.gNWaitTemp=o,NetFunnel.gNWaitCount=0),NetFunnel.TS_MAX_NWAIT_COUNT<=NetFunnel.gNWaitCount)){this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success});break}this.fireEvent(null,this,"onContinued",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.continued}),(NetFunnel.gAlreadyProc=0)<i&&this._mStatus!=NetFunnel.PS_N_RUNNING&&(this.retryTimer&&clearTimeout(this.retryTimer),NetFunnel.ttl=i,this.retryTimer=setTimeout(function(){e.chkEnterCont(e.retval.getValue("key"))},1e3*i));break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING,n.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this.fireEvent(null,this,"onBlock",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.block}),this.retryTimer&&clearTimeout(this.retryTimer),NetFunnel.ttl=i;break;case NetFunnel.kTsIpBlock:if(this._mStatus=NetFunnel.PS_N_RUNNING,this.retryTimer&&clearTimeout(this.retryTimer),NetFunnel.gAlreadyProc=0,!(this.mConfig.ipblock_wait_count>=NetFunnel.gIPBlockWaitCount+1)){n.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success});break}NetFunnel.gReTimer=setTimeout(function(){e.getTidChkEnter(e.user_id,e.user_tid,!0)},this.mConfig.ipblock_wait_time),this.fireEvent(null,this,"onIpBlock",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.ipblock}),0!=this.mConfig.ipblock_wait_count&&(NetFunnel.gIPBlockWaitCount+=1);break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING,n.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this.fireEvent(null,this,"onBypass",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.bypass});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING,n.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),this.fireEvent(null,this,"onExpressnumber",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.expressnumber});break;default:n.removeItem(this.mConfig.cookie_id),this._mStatus=NetFunnel.PS_ERROR,t.getRetCode()==NetFunnel.kTsErrorInvalidIp&&1==this.mConfig.ip_error_retry?(NetFunnel.gAlreadyProc=0,this._mStatus=NetFunnel.PS_N_RUNNING,NetFunnel.gReTimer=setTimeout(function(){e.getTidChkEnter(e.user_id,e.user_tid,!0,NetFunnel.gTotWait)},100)):(this._mStatus=NetFunnel.PS_ERROR,this.fireEvent(null,this,"onError",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.error}))}},NetFunnel.TsClient.prototype._showResultAliveNotice=function(t){var e=new NetFunnel.Storage(2);switch(t.getRetCode()){case NetFunnel.kSuccess:this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:if(this._mStatus=NetFunnel.PS_CONTINUE,this._mNoActTime>this.mConfig.no_action){this.fireEvent(null,this,"onError",{rtype:t.getReqType(),code:NetFunnel.kTsErrorNoUserAction,data:t.getParam(),next:this.next.error}),this._mNoActTime=0,this._mStatus=NetFunnel.PS_ERROR;break}var n,i=t.getNumber("ttl");i>this.mConfig.max_ttl&&(i=this.mConfig.max_ttl,t.setValue("ttl",i)),this.fireEvent(null,this,"onContinued",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.continued}),(NetFunnel.gAlreadyProc=0)<i&&this._mStatus!=NetFunnel.PS_N_RUNNING&&(this.retryTimer&&clearTimeout(this.retryTimer),this._isNoAction()?this._mNoActTime+=i:this._mNoActTime=0,e.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain),(n=this).retryTimer=setTimeout(function(){n.aliveNoticeCont(n.retval.getValue("key"),n.retval.getValue("ip"),n.retval.getValue("port"),n.retval.getValue("first"))},1e3*i));break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onBlock",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.block});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onExpressnumber",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.expressnumber});break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onBypass",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.bypass});break;case NetFunnel.kTsIpBlock:this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onIpBlock",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.ipblock});break;default:t.getRetCode()==NetFunnel.kErrorExpiredTime&&e.removeItem(this.mConfig.cookie_id),this._mStatus=NetFunnel.PS_ERROR,this.fireEvent(null,this,"onError",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.error})}},NetFunnel.TsClient.prototype._showResultSetComplete=function(t){new NetFunnel.Storage(2).removeItem(this.mConfig.cookie_id),t.getRetCode()===NetFunnel.kSuccess?(this._mStatus=NetFunnel.PS_N_RUNNING,this.fireEvent(null,this,"onSuccess",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.success})):(this._mStatus=NetFunnel.PS_ERROR,this.fireEvent(null,this,"onError",{rtype:t.getReqType(),code:t.getRetCode(),data:t.getParam(),next:this.next.error}))},NetFunnel.TsClient.prototype._connInit=function(t){this.result=null,this._mReqType=t,this._resetAlarm(),this._resetScript(),this._resetRetryTimer();var e=this;return this.alarm=setTimeout(function(){e.connTimeout(0)},1e3*parseInt(this.mConfig.conn_timeout,10)),!(!this.mConfig.host||""==this.mConfig.host)&&(!(!this.mConfig.port||""==this.mConfig.port)&&(!(!this.mConfig.query||""==this.mConfig.query)&&(!(!this.mConfig.service_id||""==this.mConfig.service_id)&&(!(!this.mConfig.action_id||""==this.mConfig.action_id)&&(this._mStatus=NetFunnel.PS_RUNNING,!0)))))},NetFunnel.TsClient.prototype._sendRequest=function(t){this.script=document.createElement("script"),this.script.src=t;var e=document.getElementsByTagName("head").item(0);return NetFunnel.TS_DEBUG_MODE&&NetFunnel.printDebugMsg("send",t),e.appendChild(this.script),!0},NetFunnel.TsClient.prototype._sendError=function(t,e){var n="";switch(e){case NetFunnel.kErrorAlready:n="Already running";break;case NetFunnel.kErrorNoinit:n="Uninitialized object";break;default:NetFunnel.kErrorSystem;n="System error"}this.fireEvent(null,this,"onError",{rtype:t,code:e,data:{msg:n},next:this.next.error})},NetFunnel.TsClient.prototype.setNext=function(t){if("object"==typeof t)this.next=t;else try{this.next.success=void 0,this.next.continued=void 0,this.next.bypass=void 0,this.next.expressnumber=void 0,this.next.block=void 0,this.next.ipblock=void 0,this.next.error=void 0,this.next.stop=void 0}catch(t){this.next.success=window.undefined,this.next.continued=window.undefined,this.next.bypass=window.undefined,this.next.expressnumber=window.undefined,this.next.block=window.undefined,this.next.ipblock=window.undefined,this.next.error=window.undefined,this.next.stop=window.undefined}},NetFunnel.TsClient.prototype.sendStop=function(t){return 1==NetFunnel.TS_BYPASS?this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}):((t="undefined"==t?!0:t)&&(this.counter[NetFunnel.RTYPE_STOP]=0),this._resetReTimer(),this._resetAlarm(),this._resetRetryTimer(),this._resetScript(),this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),this._mStatus=NetFunnel.PS_N_RUNNING),!0},NetFunnel.TsClient.prototype.getTicketID=function(t,e,n){if(NetFunnel.gPrevWaitTime=-1,1==NetFunnel.TS_BYPASS)return this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),!0;1==this.mConfig.use_unfocus&&NetFunnel.Util.delFocus(this.getConfig("popup_target")),NetFunnel.gTotWait=-1,NetFunnel.retryData=null;var i,o=1==this.mConfig.mp_use?NetFunnel.MProtect():0;if(0!=o)return this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:2*NetFunnel.gControl.getConfig("showcnt_limit"),mprotect:o,ttl:10}}),this.retryTimer&&clearTimeout(this.retryTimer),NetFunnel.retryData={user_id:t,user_tid:e,first:n},(i=this).retryTimer=setTimeout(function(){i.retryFunction(NetFunnel.RTYPE_GET_TID)},this.mConfig.virt_wait),!1;if((n="undefined"==n?!0:n)&&(this.counter[NetFunnel.RTYPE_GET_TID]=0),this._mStatus==NetFunnel.PS_RUNNING)return this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorAlready),!1;this.user_id=t,this.user_tid=e;o=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID+";",o+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id,n=this.getUserdata(),""!=n&&(o+="&user_data="+n),o+="&js=yes",t=new Date;return o+="&"+t.getTime(),this._connInit(NetFunnel.RTYPE_GET_TID)?(this._sendRequest(o),!0):(this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorNoinit),!1)},NetFunnel.TsClient.prototype.chkEnter=function(t,e){return 1==NetFunnel.TS_BYPASS?(this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),!0):this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE?(this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready),!1):this.chkEnterProc(t,e)},NetFunnel.TsClient.prototype.chkEnterCont=function(t,e){return this._mStatus==NetFunnel.PS_RUNNING?(this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready),!1):this.chkEnterProc(t,e)},NetFunnel.TsClient.prototype.chkEnterProc=function(t,e){if((e="undefined"==e?!0:e)&&(this.counter[NetFunnel.RTYPE_CHK_ENTER]=0),!t||""==t){if(!this.key)return this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorParam),!1;t=this.key}this.key=t;var e=this.retval.getValue("ip"),n=(1<this.mConfig.conn_retry&&this.counter[this._mReqType]==this.mConfig.conn_retry&&(e=this.mConfig.config_use),this.retval.getValue("port")),i="",e=(i=(i=e&&""!=e&&n&&""!=n&&!this.mConfig.config_use?this.mConfig.proto+"://"+e+":"+n+"/":this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/")+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_CHK_ENTER+"&key="+t+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_CHK_ENTER+";",0<NetFunnel.ttl&&(i=i+"&ttl="+NetFunnel.ttl),i+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id,this.getUserdata()),n=(""!=e&&(i+="&user_data="+e),i+="&js=yes",new Date);return i+="&"+n.getTime(),this._connInit(NetFunnel.RTYPE_CHK_ENTER)?(this._sendRequest(i),!0):(this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorNoinit),!1)},NetFunnel.retryData=null,NetFunnel.retryFunction=function(t){var e;"object"==typeof NetFunnel.retryData&&(e=NetFunnel.retryData,t==NetFunnel.RTYPE_GET_TID?NetFunnel.gControl.getTicketID(e.user_id,e.user_tid,e.first):t==NetFunnel.RTYPE_GET_TID_CHK_ENTER&&NetFunnel.gControl.getTidChkEnter(e.user_id,e.user_tid,e.first))},NetFunnel.TsClient.prototype.getTidChkEnter=function(t,e,n,i){if(NetFunnel.gPrevWaitTime=-1,1==NetFunnel.TS_BYPASS)return this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),!0;if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE)return this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready),!1;1==this.mConfig.use_unfocus&&NetFunnel.Util.delFocus(this.getConfig("popup_target")),NetFunnel.gTotWait=null==i||isNaN(i)?-1:i,NetFunnel.retryData=null;i=1==this.mConfig.mp_use?NetFunnel.MProtect():0;return 0==i&&0==this.mConfig.show_wait_popup?(this.getConfig("use_pre_wait")&&NetFunnel.PopupUtil.showWaitPopup(),this.getTidChkEnterProc(t,e,n)):(this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:2*NetFunnel.gControl.getConfig("showcnt_limit"),mprotect:i,ttl:10}}),this.retryTimer&&clearTimeout(this.retryTimer),NetFunnel.retryData={user_id:t,user_tid:e,first:n},this.retryTimer=setTimeout(function(){NetFunnel.retryFunction(NetFunnel.RTYPE_GET_TID_CHK_ENTER)},this.mConfig.virt_wait),!1)},NetFunnel.TsClient.prototype.getTidChkEnterProc=function(t,e,n){(n="undefined"==n?!0:n)&&(this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0),this.user_id=t,this.user_tid=e;n=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+";",n=(n=0<NetFunnel.ttl?n+"&ttl="+NetFunnel.ttl:n)+("&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id)+"&js=yes",t=this.getUserdata(),""!=t&&(n+="&user_data="+t),e=new Date;return n+="&"+e.getTime(),this._connInit(NetFunnel.RTYPE_GET_TID_CHK_ENTER)?(this._sendRequest(n),!0):(this._sendError(NetFunnel.RTYPE_GET_TID_CHK_ENTER,NetFunnel.kErrorNoinit),!1)},NetFunnel.TsClient.prototype.aliveNoticeProc=function(t,e,n,i){if((i="undefined"==i?!0:i)&&(this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0),!t||""==t){if(!this.key)return this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorParam),!1;t=this.key}this.key=t,this.ip=e,this.port=n;i="",i=(i=(e=1<this.mConfig.conn_retry&&this.counter[this._mReqType]==this.mConfig.conn_retry?this.mConfig.config_use:e)&&""!=e&&n&&""!=n&&!this.mConfig.config_use?(this.ip=0==this.mConfig._host_changed?e:this.mConfig.host,this.port=0==this.mConfig._port_changed?n:this.mConfig.port,this.mConfig.proto+"://"+this.ip+":"+this.port+"/"):this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/")+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_ALIVE_NOTICE+"&key="+t+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_ALIVE_NOTICE+";",i+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id,e=this.getUserdata(),""!=e&&(i+="&user_data="+e),i+="&js=yes",n=new Date;return i+="&"+n.getTime(),this._connInit(NetFunnel.RTYPE_ALIVE_NOTICE)?(this._sendRequest(i),!0):(this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorNoinit),!1)},NetFunnel.TsClient.prototype.aliveNotice=function(t,e,n,i){return 1==NetFunnel.TS_BYPASS?(this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),!0):this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE?(this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready),!1):this.aliveNoticeProc(t,e,n,i)},NetFunnel.TsClient.prototype.aliveNoticeCont=function(t,e,n,i){return this._mStatus==NetFunnel.PS_RUNNING?(this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready),!1):this.aliveNoticeProc(t,e,n,i)},NetFunnel.TsClient.prototype.setComplete=function(t,e,n,i){if((new NetFunnel.Storage).setItemStorageOnly("NFMPT.reqCnt","0"),1==NetFunnel.TS_BYPASS)return this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success}),!0;if((i="undefined"==i?!0:i)&&(this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0),this._mStatus==NetFunnel.PS_RUNNING)return this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorAlready),!1;if(!t||""==t){if(!this.key)return this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorParam),!1;t=this.key}if(this.key=t,this.ip=e,1<this.mConfig.conn_retry&&this.counter[this._mReqType]==this.mConfig.conn_retry-1&&(e=this.mConfig.config_use),this.port=n,t==NetFunnel.CONN_TIMEOUT_KEY)return i=new NetFunnel.RetVal(NetFunnel.RTYPE_SET_COMPLETE+":"+NetFunnel.kSuccess+":utime=1"),this._showResultSetComplete(i),!0;i="",i=(i=e&&""!=e&&n&&""!=n&&!this.mConfig.config_use?(this.ip=0==this.mConfig._host_changed?e:this.mConfig.host,this.port=0==this.mConfig._port_changed?n:this.mConfig.port,this.mConfig.proto+"://"+this.ip+":"+this.port+"/"):this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/")+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_SET_COMPLETE+"&key="+t+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_SET_COMPLETE+";",e=this.getUserdata(),""!=e&&(i+="&user_data="+e),i+="&js=yes",n=new Date;return i+="&"+n.getTime(),this._connInit(NetFunnel.RTYPE_SET_COMPLETE)?(this._sendRequest(i),!0):(this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorNoinit),!1)},NetFunnel.TsClient.prototype.cookieExist=function(){var t=new NetFunnel.Storage(2),e=t.getItem(this.mConfig.cookie_id);return 0!=e&&""!=e&&(!!new NetFunnel.RetVal(e).getValue("key")||(t.removeItem(this.mConfig.cookie_id),!1))},NetFunnel.TsClient.prototype.isRunning=function(){return this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE},1==NetFunnel.TS_AUTO_COMPLETE&&NetFunnel_Complete();var NetfunnelChk=NetfunnelChk||{},NetfunnelChk=function(){"use strict";return{mobileTag:function(t,n){NetFunnel.TS_ACTION_ID=NetFunnel.TS_PRE_ACTION_ID+t,NetFunnel_Action({action_id:NetFunnel.TS_ACTION_ID},{success:function(t,e){AppHandler.Common.submit(NetfunnelChk.setFrmKey(null,null,e.data.key),n)},bypass:function(t,e){AppHandler.Common.submit(NetfunnelChk.setFrmKey(null,null,e.data.key),n)},error:function(t,e){AppHandler.Common.submit(NetfunnelChk.setFrmKey(null,null,NetFunnel.TS_BYPASS_KEY),n)}})},aTag:function(t,n){NetFunnel.TS_ACTION_ID=NetFunnel.TS_PRE_ACTION_ID+t,NetFunnel_Action({action_id:NetFunnel.TS_ACTION_ID},{success:function(t,e){NetfunnelChk.setFrmKey(null,n,e.data.key).submit()},bypass:function(t,e){NetfunnelChk.setFrmKey(null,n,e.data.key).submit()},error:function(t,e){NetfunnelChk.setFrmKey(null,n,NetFunnel.TS_BYPASS_KEY).submit()}})},script:function(t,n){NetFunnel.TS_ACTION_ID=NetFunnel.TS_PRE_ACTION_ID+t,NetFunnel_Action({action_id:NetFunnel.TS_ACTION_ID},{success:function(t,e){NetFunnel_Complete({}),n(e)},bypass:function(t,e){NetFunnel_Complete({}),n(e)},error:function(t,e){NetFunnel_Complete({}),n(e)}})},formSubmit:function(t,n,e){NetFunnel.TS_ACTION_ID=NetFunnel.TS_PRE_ACTION_ID+t,NetFunnel_Action({action_id:NetFunnel.TS_ACTION_ID},{success:function(t,e){NetfunnelChk.setFrmKey(n,null,e.data.key).submit()},bypass:function(t,e){NetfunnelChk.setFrmKey(n,null,NetFunnel.TS_BYPASS_KEY).submit()},error:function(t,e){NetfunnelChk.setFrmKey(n,null,NetFunnel.TS_BYPASS_KEY).submit()}})},setFrmKey:function(t,e,n){return null==t&&(t=MegaboxUtil.Form.createForm()),null!=e&&t.attr("action",e),NetFunnel.TS_BYPASS&&(n=NetFunnel.TS_BYPASS_KEY),t.append("<input type='hidden' name='netfunnel_key' id='netfunnel_key' value='"+n+"' />"),t},setting:function(t,e){"MON"==t?(NetFunnel.TS_SKIN_ID="megaboxMobile",NetFunnel.TS_SERVICE_ID="service_2",NetFunnel.TS_PRE_ACTION_ID="MBL_",e&&(NetFunnel.TS_SERVICE_ID="service_2",NetFunnel.TS_PRE_ACTION_ID="MBL_")):(NetFunnel.TS_SKIN_ID="megabox",NetFunnel.TS_SERVICE_ID="service_1",NetFunnel.TS_PRE_ACTION_ID="WEB_")},reset:function(){NetFunnel.countdown_stop()}}}();"object"==typeof NetFunnel&&(NetFunnel.SkinUtil.add("megabox",{prepareCallback:function(){"page"==NetFunnel.TS_TARGET&&$("#NetFunnel_Skin_Top .layer-header span").css("display","none")},updateCallback:function(t,e,n,i){var o=document.getElementById("NetFunnel_Loading_Popup_Progressbar_CUSTOM").style.width.replace("px",""),r=document.getElementById("NetFunnelCustomProgressbar");Math.round(NetFunnel.gLastData.nwait/NetFunnel.gTotWait*o);r.style.width=t+"%",console.log(NetFunnel.gLastData.nwait+"/"+NetFunnel.gTotWait+" : "+t)},htmlStr:'<div id="NetFunnel_Skin_Top" style="width: 560px; background-color: #fff; padding: 29px 0px; border:1px solid #eee; box-sizing:border-box;"> \t\t\t\t\t\t<div class="wrap" style="width:100%;">\t\t\t\t\t\t<header class="layer-header" style=-"margin-bottom:20px;">\t\t\t\t\t\t\t<h3 class="tit">[PC]접속대기안내</h3>\t\t\t\t\t\t\t<span onclick="NetFunnel.countdown_stop();" style="position: absolute; right:10px; top:15px; width:18px; height:18px;background:url(/static/pc/images/common/btn/btn-layer-close.png) no-repeat 0 0"></span>\t\t\t\t\t\t</header>\t\t\t\t\t\t<div class="layer-con" style="margin:20px 0 0 -1px;">\t\t\t\t\t\t\t<div class="connect-waiting">\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t<div class="counting">\t\t\t\t\t\t\t\t\t<i class="iconset ico-connect-waiting"></i>\t\t\t\t\t\t\t\t\t<div class="count">\t\t\t\t\t\t\t\t\t\t<p class="tit">대기인원</p>\t\t\t\t\t\t\t\t\t\t<p class="txt">\t\t\t\t\t\t\t\t\t\t\t<em id="NetFunnel_Loading_Popup_Count">230</em>\t\t\t\t\t\t\t\t\t\t\t<span>명</span>\t\t\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="box-gray">\t\t\t\t\t\t\t\t\t<p class="txt">\t\t\t\t\t\t\t\t\t\t페이지 사용량이 많아 접속이 지연되고 있습니다.<br />\t\t\t\t\t\t\t\t\t\t잠시만 기다려 주세요.\t\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t\t\t<div id="NetFunnel_Loading_Popup_Progressbar_CUSTOM" class="graph-bar">\t\t\t\t\t\t\t\t\t\t\x3c!-- 접근성 : em 안의 숫자도 실시간으로 바꿔줘야 합니다. --\x3e\t\t\t\t\t\t\t\t\t\t<div id="NetFunnelCustomProgressbar" class="bar" style="width:100%">\t\t\t\t\t\t\t\t\t\t\t<span><em>33.333</em> &#37;</span>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<p class="info">\t\t\t\t\t\t\t\t\t※ 새로고침 또는 뒤로가기를 하시면 대기 시간이 다시 부여됩니다.\t\t\t\t\t\t\t\t</p>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>'},"normal"),NetFunnel.SkinUtil.add("megaboxMobile",{prepareCallback:function(){"page"==NetFunnel.TS_TARGET&&$("#NetFunnel_Skin_Top .iconset.ico-p-close").css("display","none"),null==typeof AppHandler&&AppHandler.Common.stopLoadingBar()},updateCallback:function(t,e,n,i){var o=document.getElementById("NetFunnel_Loading_Popup_Progressbar_CUSTOM").style.width.replace("px",""),r=document.getElementById("NetFunnelCustomProgressbar");Math.round(NetFunnel.gLastData.nwait/NetFunnel.gTotWait*o);r.style.width=t+"%",console.log(NetFunnel.gLastData.nwait+"/"+NetFunnel.gTotWait),0<$(".event-detail-cont").length&&$("#NetFunnel_Skin_Top").parent().addClass("net-wrap")},htmlStr:'<div id="NetFunnel_Skin_Top" style="width:320px; height:310px;"> \t\t\t\t\t\t<div class="wrap delay" style="width:100%;">\t\t\t\t\t\t<header class="title-area">\t\t\t\t\t\t\t<p class="tit">접속대기안내</p>\t\t\t\t\t\t\t<span onclick="NetFunnel.countdown_stop();controlAction.off();" title="닫기" class="btn-close"><i class="iconset ico-p-close"></i></span>\t\t\t\t\t\t</header>\t\t\t\t\t\t<div class="layer-cont">\t\t\t\t\t\t\t<div class="delay-wrap">\t\t\t\t\t\t\t\t<p class="tit">대기인원</p>\t\t\t\t\t\t\t\t<p class="peaple"><span class="font-roboto" id="NetFunnel_Loading_Popup_Count">230</span><em>명</em></p>\t\t\t\t\t\t\t\t<div class="delay-bar" id="NetFunnel_Loading_Popup_Progressbar_CUSTOM"><span id="NetFunnelCustomProgressbar" class="bar" style="width:100%;"></span></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<ul class="star-list">\t\t\t\t\t\t\t\t<li>페이지 사용량이 많아 접속이 지연되고 있습니다.<br>잠시 기다려 주세요.</li>\t\t\t\t\t\t\t\t<li>새로고침 또는 뒤로가기를 하시면 대기 시간이 다시 부여됩니다.</li>\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>'},"normal"));

/*! megabox 14-06-2022 */
var gfn_getCodes=function(t,e,n){var a={grpCd:t,DATA_PREFIX:"CMMCD_"},o=t.split(","),i=e.split(","),r=n.split(","),s=0,l="";$.ajax({type:"POST",contentType:"application/json;charset=UTF-8",url:"/co/coc/CommCdMapp/selectCommCdMappList.do",dataType:"json",data:JSON.stringify({dlParam:a}),success:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)-1<e[n].indexOf("CMMCD_")&&(s=o.indexOf(e[n].substr(6)),l=i[s],$("#"+l).is("select")?($("#"+l).find("option").remove(),"A"==r[s]?$("#"+l).append("<option value=''>전체</option>"):"S"==r[s]&&$("#"+l).append("<option value=''>선택</option>"),$.each(t[e[n]],function(t){$("#"+l).append("<option value='"+this.cdId+"'>"+this.cdNm+"</option>")})):$("#"+l).is(":radio")&&($.each(t[e[n]],function(t){$("#"+l).before("<input type='radio' name='"+l+"' id='"+(l+t)+"' value='"+this.cdId+"' />"+this.cdNm+"&nbsp; ")}),$("#"+l).remove()))},error:function(t,e,n){gfn_alertMsgBox("공통 코드 조회 시 오류가 발생하였습니다.")}})},gfn_getAppDataToCodes=function(a){for(var o="",i="",r="",s="",l=0;l<a.length;l++)$.ajax({type:"POST",contentType:"application/json;charset=UTF-8",url:a[l].action,dataType:"json",data:JSON.stringify(a[l].paramData),success:function(t){var e=t.dlResultList;$("#"+a[l].uiComp).append("<option value=''>"+a[l].allText+"</option>");for(var n=0;n<e.length;n++)o=e[n][a[l].cdId],i=e[n][a[l].cdName],r=e[n][a[l].etcId],s=a[l].etcAttr,$("#"+a[l].uiComp).append("<option value='"+o+"' "+s+"='"+r+"'>"+i+"</option>")},error:function(t,e,n){gfn_alertMsgBox("데이터 코드 조회 시 오류가 발생하였습니다.")}})},gfn_enterKeyByVal=function(t,e,n){13==(t.keyCode||t.which)&&e(n)};function replaceAll(t,e,n){return t.split(e).join(n)}function base64url(t){return encodedSource=(encodedSource=(encodedSource=(encodedSource=CryptoJS.enc.Base64.stringify(t)).replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}var gfn_getIndex=function(t){return t.parent().children().index(t.get(0))},gfn_dateChange=function(t,e,n){var a,o,i;if(null!=t&&9==e.length)return o=e.substring(0,3),a=e.substring(3,6),e=e.substring(6,9),i=null,"string"==typeof t?(t=t.removeAll(Constants.SEPARATOR_DATE),(i=new Date).setFullYear(t.substring(0,4)),i.setMonth(parseInt(t.substring(4,6))-1),i.setDate(t.substring(6,8))):i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),t=new Date(parseInt(o),parseInt(a),parseInt(e)),o=new Date(0,0,0),a=new Date(t-o),e=new Date(i-a),t=e.getFullYear().toString(),o=(e.getMonth()+1).toString(),i=e.getDate().toString(),o.length<2&&(o="0"+o),i.length<2&&(i="0"+i),t+Constants.SEPARATOR_DATE+o+Constants.SEPARATOR_DATE+i},gfn_dateComp=function(t,e,n){var a,o;if(null!=t&&null!=e)return a=null,o=null,"string"==typeof t?(t=t.removeAll(Constants.SEPARATOR_DATE),(a=new Date).setFullYear(t.substring(0,4)),a.setMonth(parseInt(t.substring(4,6))-1),a.setDate(t.substring(6,8))):a=new Date(t),"string"==typeof e?(e=e.removeAll(Constants.SEPARATOR_DATE),(o=new Date).setFullYear(e.substring(0,4)),o.setMonth(parseInt(e.substring(4,6))-1),o.setDate(e.substring(6,8))):o=new Date(e),t=o-a,e=0,"D"==(n=null==n?"D":n)?e=t/864e5:"M"==n?e=t/2592e6:"Y"==n?e=t/31536e6:"HH"==n?e=t/36e5:"MI"==n?e=t/6e4:"SS"==n&&(e=t/1e3),e},pageSet,gfn_setPage=function(s){if("string"==typeof s?(pageSet.currentPage+=Number(10*s),pageSet.currentPage=Math.max(pageSet.currentPage,1),pageSet.currentPage=Math.min(pageSet.currentPage,pageSet.pageCount)):"number"==typeof s?pageSet.currentPage=s:pageSet=$.extend({url:"",type:"POST",contentType:"application/json;charset=UTF-8",currentPage:1,recordCountPerPage:10,totCount:0,pageCount:0,successCallBack:null,errorCallBack:null,paramData:{},navId:"nav.pagination",sessionAt:!1},s),""==pageSet.url)return gfn_alertMsgBox("호출되는 URL정보가 없습니다."),!1;if(null!=s.historyState){var t,e=s.historyState,n=(e.currPage=pageSet.currentPage,"?");for(t in e)n=n+t+"="+e[t]+"&";window.history.pushState(e,null,n)}var a=pageSet.paramData;a.currentPage=""+pageSet.currentPage,a.recordCountPerPage=""+pageSet.recordCountPerPage,$.ajaxMegaBox({url:pageSet.url,type:pageSet.type,contentType:pageSet.contentType,sessionAt:pageSet.sessionAt,data:JSON.stringify(a),success:function(t,e,n){pageSet.totCount=Number(t.totCount),pageSet.pageCount=Math.ceil(pageSet.totCount/pageSet.recordCountPerPage),t.pageCount=pageSet.pageCount;var a=10*Math.floor((pageSet.currentPage-1)/10)+1,o=10*Math.floor((pageSet.currentPage-1)/10)+10,o=Math.min(pageSet.pageCount,o),i=$(pageSet.navId);if(i){i.children().remove(),1!=a&&(i.append('<a title="처음 페이지 보기"   href="javascript:void(0)" class="control first" pageNum=1>first</a> '),i.append('<a title="이전 10페이지 보기" href="javascript:void(0)" class="control prev"  pageNum='+(a-10)+">prev</a> "));for(var r=a;r<=o;r++)r!=pageSet.currentPage?i.append('<a title="'+r+'페이지보기" href="javascript:void(0)" pageNum='+r+">"+r+"</a> "):i.append('<strong class="active">'+r+"</strong> ");o!=pageSet.pageCount&&(i.append('<a title="이후 10페이지 보기"  href="javascript:void(0)" class="control next" pageNum='+(o+1)+">next</a> "),i.append('<a title="마지막 페이지 보기"  href="javascript:void(0)" class="control last" pageNum='+pageSet.pageCount+">last</a> ")),$(pageSet.navId+" > a").unbind("click").bind("click",function(){_this=$(this),s.currentPage=Number(_this.attr("pageNum")),gfn_setPage(s)})}pageSet.successCallBack?pageSet.successCallBack(t,e,n):gfn_alertMsgBox("성공하였습니다.")},error:function(t,e,n){pageSet.errorCallBack?pageSet.errorCallBack(t,e,n):(e=JSON.parse(t.responseText),gfn_alertMsgBox(t.status),gfn_alertMsgBox(e.message))}})},gfn_imageUpload=function(t){var r=$.extend({url:"/on/coc/FileUpload/insertFileUpload.do",type:"POST",maxSize:15,success:null,error:null,fileSizeError:null,fileNo:null,fileExt:null,baseType:null,uploadType:null},t),t=($("form[name='fileUploadForm']").remove(),$("<form name='fileUploadForm' method='POST' enctype='multipart/form-data'/>"));t.append("<input name='file' type='file' />"),t.append("<input type='hidden' name='fileNo' value='"+r.fileNo+"' />"),t.append("<input type='hidden' name='baseType' value='"+r.baseType+"' />"),t.append("<input type='hidden' name='uploadType' value='"+r.uploadType+"' />"),t.append("<input type='hidden' name='resizeFileSize' value='"+r.resizeFileSize+"' />"),t.hide(),$("body").append(t),$("form[name='fileUploadForm'] > input[name='file']").unbind("change").bind("change",function(){var a=$("form[name='fileUploadForm']")[0],t=this.files[0].size;if(1024*Number(r.maxSize)*1024<t)return r.fileSizeError?r.fileSizeError((t/1048576).toFixed(2),Number(r.maxSize)):gfn_alertMsgBox("현재 파일 크기 : "+(t/1048576).toFixed(2)+" MB 입니다.\n\n최대 파일 크기 : "+Number(r.maxSize)+" MB 입니다."),$(a).remove(),!1;if(null!=r.fileExt&&""!=r.fileExt){var e=r.fileExt.split(","),t=this.files[0].name,n=t.slice(t.lastIndexOf(".")+1).toLowerCase(),o=!1;if(0<e.length)for(var i=0;i<e.length;i++)n==e[i].toLowerCase().trim()&&(o=!0);if(0==o)return r.fileExtError(),$(a).remove(),!1}t=new FormData(a);$.ajaxMegaBox({url:r.url,data:t,type:r.type,contentType:!1,processData:!1,success:function(t,e,n){-1==t.statCd?gfn_alertMsgBox(t.msg):(r.success?r.success(t,e,n):gfn_alertMsgBox("성공하였습니다."),$(a).remove())},error:function(t,e,n){r.error?r.error(t,e,n):(e=JSON.parse(t.responseText),gfn_alertMsgBox(t.status),gfn_alertMsgBox(e.message)),$(a).remove()}})}),$("form[name='fileUploadForm'] > input[name='file']").click()},gfn_alertMsgBoxSize=function(t,e,n,a){gfn_alertMsgBox({msg:t,minHeight:n,minWidth:e,callback:a})},gfn_confirmMsgBoxSize=function(t,e,n,a,o){gfn_confirmMsgBox({msg:t,minHeight:n,minWidth:e,confirmFn:a,cancelFn:o})},gfn_alertMsgBoxM=function(t){alert(t)},gfn_alertMsgBox=function(){var t,e={};"string"==typeof arguments[0]?(e.msg=arguments[0],"number"==typeof arguments[1]?e.minHeight=arguments[1]:"function"==typeof arguments[1]&&(e.callback=arguments[1]),"number"==typeof arguments[2]?e.minHeight=arguments[2]:"function"==typeof arguments[2]&&(e.callback=arguments[2])):"object"==typeof arguments[0]&&(e=arguments[0]);try{sysCd}catch(t){sysCd=""}"MON"==sysCd?(t={message:e.msg},""!=nvl(e.callback)&&(t.okFunc=e.callback),AppHandler.Common.alert(t)):(t=$.extend({id:"layerId_"+(""+Math.random()).replace(/\D/g,""),msg:"",okBtnTxt:"확인",cancelBtnTxt:"취소",minHeight:200,minWidth:300,callback:void 0,param:void 0,type:"single",mobileAt:!1},e),mbAlert.toggle({id:t.id,msg:nvl(t.msg).replaceAll(/\n|\r\n/g,"<br>"),confirm:t.okBtnTxt,callback:{confirm:t.callback},param:t.param,minHeight:t.minHeight,minWidth:t.minWidth,type:t.type,isImportant:t.isImportant}))},gfn_confirmMsgBox=function(t,e,n,a,o){var i={},e=("string"==typeof t?(i.msg=t,i.confirmFn=e,i.cancelFn=n,"undefined"!=a&&""!=a&&(i.minHeight=a),"undefined"!=o&&""!=o&&(i.minWidth=o)):i=t,$.extend({id:"layerId_"+(""+Math.random()).replace(/\D/g,""),msg:"",okBtnTxt:"확인",cancelBtnTxt:"취소",minHeight:200,minWidth:300,confirmFn:void 0,cancelFn:void 0,param:void 0,type:"",mobileAt:!1,sessionAt:!1},i));sessionAllow(e);sessionAllow(e)&&mbAlert.toggle({id:e.id,msg:nvl(e.msg).replaceAll(/\n|\r\n/g,"<br>"),confirm:e.okBtnTxt,cancel:e.cancelBtnTxt,callback:{confirm:e.confirmFn,cancel:e.cancelFn},param:e.param,minHeight:e.minHeight,minWidth:e.minWidth,type:e.type})},gfn_charToHtml=function(t){for(var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x2F;":"/","&#x60;":"`","&#x3D;":"=","&#40;":"(","&#41;":")","&#35;":"#"},n=Object.keys(e),a=0;n.length>a;a++){var o=e[i=n[a]];t=t.split(i).join(o)}for(n=Object.keys({"&amp;":"&"}),a=0;n.length>a;a++){var i,o=e[i=n[a]];t=t.split(i).join(o)}return t},gfn_htmlToChar=function(t){for(var e={"&;":"&amp","#":"&#35;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;","(":"&#40;",")":"&#41;"},n=Object.keys(e),a=0;n.length>a;a++){var o=e[i=n[a]];t=t.split(i).join(o)}for(n=Object.keys({"&amp;":"&"}),a=0;n.length>a;a++){var i,o=e[i=n[a]];t=t.split(i).join(o)}return t},gfn_chkPrhword=function(t,a){$.ajaxMegaBox({url:"/on/oc/ocz/commOn/selectPrhwordList.do",data:JSON.stringify({checkWord:t.replaceAll("/\r\n/g","")}),success:function(t,e,n){a(t.prhwordList.map(function(t,e){return t.prhwordCn}))},error:function(t,e,n){var a=JSON.parse(t.responseText);gfn_alertMsgBox(t.status),gfn_alertMsgBox(a.message)}})},gfn_favorBrchReg=function(t,e){e=null!=e?e:{},null!=t&&(e.callbackFn=t),t={url:"/on/oc/ocz/commOn/favorBrchReg.do",height:"360",width:"500",initFn:"favorBrchRegInit",initParam:e,sessionAt:"N"!=e.saveYn};gfn_divLayPopUp(t)},gfn_storeBrchListPV=function(t,e){t={cmbndKindNo:t};e||(t.titNm=e),gfn_divLayPopUp({url:"/on/oh/ohd/StoreDtl/selectStoreBrchList.do",height:"530",width:"600",target_id:"layer_chk_theater",btn_id:"btn_chkTheater",params:t})},gfn_divLayPopUp=function(options){var setting=$.extend({btn_id:"favorBrchReg",height:370,width:500,initFn:function(){},initParam:null,callObj:null,url:"",params:{},target_id:"favor_theater_setting",sessionAt:!1},options),_section=(0<$("#"+setting.target_id).length&&$("#"+setting.target_id).remove(),0<$("a[href='#"+setting.target_id+"']#"+setting.btn_id).length&&$("a[href='#"+setting.target_id+"']#"+setting.btn_id).remove(),$("<section/>").attr({id:setting.target_id,class:"modal-layer"})),_a=$("<a/>").attr({href:"#"+setting.target_id,class:"right btn-modal-open",id:setting.btn_id,"w-data":setting.width,"h-data":setting.height}),paramData=($(document.body).append(_a).append(_section),setting.params);$.ajaxMegaBox({url:setting.url,data:setting.params,type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"html",sessionAt:setting.sessionAt,success:function(data,textStatus,jqXHR){$("#"+setting.target_id).html(data),$("a[href='#"+setting.target_id+"']#"+setting.btn_id).click(),null!=setting.initFn&&eval(setting.initFn)(setting.initParam),null!=setting.callObj&&$("#"+setting.target_id).find(".btn-modal-close, .close-layer").click(function(){setting.callObj.focus()})},error:function(t,e,n){gfn_alertMsgBox(t.status)}})},dateFormat,dateDiffFormat=function(t,e){return dateFormat=$.extend({stanDate:t.stanDate,diffSe:t.diffSe,diffVal:Number(t.diffVal),diffDate:null}),t.stanDate=t.stanDate.replaceAll(".","-"),dateFormat.diffDate=new Date(t.stanDate),"D"==t.diffSe&&dateFormat.diffDate.setDate(dateFormat.diffDate.getDate()+dateFormat.diffVal),"M"==t.diffSe&&dateFormat.diffDate.setMonth(dateFormat.diffDate.getMonth()+dateFormat.diffVal),"Y"==t.diffSe&&dateFormat.diffDate.setYear(dateFormat.diffDate.setFullYear()+dateFormat.diffVal),dateFormat.diffDate=$.datepicker.formatDate(e,dateFormat.diffDate),dateFormat.diffDate},dateStrFormat=function(t,e){if(null==t)return"&nbsp;";var n=t.substr(0,4),a=t.substr(4,2),t=t.substr(6,2),t=new Date(n,a,t);return $.datepicker.formatDate(e,t)},nvl=function(t,e){return null==t?null==e?"":e:t},metaFormat,settingMeta=function(t){metaFormat=$.extend({scnTitle:t.scnTitle,metaTagTitle:t.metaTagTitle,metaTagDtls:t.metaTagDtls,metaTagImg:t.metaTagImg,metaTagKeyword:t.metaTagKeyword,metaTagUrl:t.metaTagUrl}),document.title=$.parseHTML(t.scnTitle)[0].textContent,null!=t.metaTagTitle&&$("head #metaTagTitle").attr("content",t.metaTagTitle),null!=t.metaTagKeyword&&$("head #metaTagKeyword").attr("content",t.metaTagKeyword),null!=t.metaTagDtls&&$("head #metaTagDtls").attr("content",gfn_htmlToChar(t.metaTagDtls)),null!=t.metaTagTitle&&$("head #fbTitle").attr("content",t.metaTagTitle),null!=t.metaTagDtls&&$("head #fbDtls").attr("content",gfn_htmlToChar(t.metaTagDtls)),null!=t.metaTagImg&&$("head #fbImg").attr("content",t.metaTagImg),null!=t.metaTagUrl&&$("head #fbUrl").attr("content",t.metaTagUrl)},preMetaFormat;function saveCurrentMeta(){return preMetaFormat={scnTitle:document.title,metaTagTitle:$("head #metaTagTitle").prop("content"),metaTagDtls:$("head #metaTagDtls").prop("content"),metaTagUrl:$("head #fbUrl").prop("content")}}function noImg(t,e){if("del"==e)$(t).remove();else switch(e){case"main":t.src="/static/pc/images/common/bg/bg-noimage-main.png";break;case"human":t.src="/static/pc/images/mypage/bg-photo.png";break;case"movie":t.src="/static/pc/images/reserve/bg-poster-view.png";break;default:t.src="/static/pc/images/common/bg/bg-noimage-notmain.png"}}function fn_searchHeaderBoxOffice(){$("#headerBoxoForm").attr("action","/movie?searchText="+$("#headerMovieName").val()),$("#headerBoxoForm").submit()}function fn_chkHeaderBoxOffice(){if(""==$("#headerMovieName").val())return gfn_alertMsgBox("영화명을 입력해 주세요"),!1}function gfn_moveDetail(t){var e=MegaboxUtil.Form.createForm();e.attr("action","/movie-detail?rpstMovieNo="+t),e.submit()}function gfn_logdingModal(t){t=null!=t?t:"body";0===$(t+" #bg-loading").length?$(t).append('<div id="bg-loading" class="bg-loading">\t<div class="spinner-border" role="status">\t\t<span class="sr-only">Loading...</span>\t</div></div>'):$(t+" #bg-loading").remove()}function gfn_isEmpty(t){return""==t.trim()}var gfn_moveEventDetail=function(t){var e=MegaboxUtil.Form.createForm();"Y"==$(t).data("netfunnel")?(e.attr("action","/event/detail?eventNo="+$(t).data("no")),NetfunnelChk.formSubmit("EVENT_DTL",e,function(){})):(e.append('<input type="hidden" name="eventNo" value="'+$(t).data("no")+'">'),e.attr("action","/event/detail"),e.attr("method","get"),e.submit())},gfn_selectBrchList=function(option){option=$.extend({id:"",obj:"",areaCd:"",brchNo:"",callback:"",desableAt:"Y"},option),""!=option.id&&(option.obj=$("#"+option.id)),""==option.areaCd?""==option.obj.find("option:first").val()&&option.obj.nextAll().remove():$.ajaxMegaBox({url:"/on/oh/ohj/Company/theaterCdList.do",data:JSON.stringify({areaCd:option.areaCd}),success:function(result){var arrObj=[],$opt;if($.each(result.theaterCdList,function(t,e){arrObj.push($opt=$("<option>").val(e.brchNo).html(e.brchNm)),option.brchNo==e.brchNo&&$opt.attr("selected","selected")}),""!=option.obj)""==option.obj.find("option:first").val()?option.obj.find("option:first").nextAll().remove():option.obj.empty(),"Y"==option.desableAt&&option.obj.attr("disabled",0==arrObj.length),option.obj.append(arrObj);else if(""!=option.callback)try{eval(option.callback)()}catch(e){console.log(e)}}})},gfn_getTighlight=function(a,t){var o="";return(a=$.extend({regTxt:"",type:{tag:"",css:""}},a)).chgTxt="<"+a.type.tag+' class="'+a.type.css+'">'+a.regTxt+"</"+a.type.tag+">",a.regTxt=a.regTxt.replace(/\./gi,"\\."),a.regTxt=a.regTxt.replace(/\*/gi,"\\*"),a.regTxt=a.regTxt.replace(/\?/gi,"\\?"),a.regTxt=a.regTxt.replace(/\^/gi,"\\^"),a.regTxt=a.regTxt.replace(/\|/gi,"\\|"),a.regTxt=a.regTxt.replace(/\(/gi,"\\("),a.regTxt=a.regTxt.replace(/\)/gi,"\\)"),a.regTxt=a.regTxt.replace(/\[/gi,"\\["),a.regTxt=a.regTxt.replace(/\{/gi,"\\{"),a.regTxt=a.regTxt.replace(/\}/gi,"\\}"),$.each(t.split("&"),function(t,e){var n=e.indexOf(";");-1==n?o+=e.replace(new RegExp(a.regTxt,"gi"),a.chgTxt):o=(o+="&"+e.substring(0,n+1))+e.substring(n+1).replace(new RegExp(a.regTxt,"gi"),a.chgTxt)}),o},Constants={SEPARATOR_DATE:".",SEPARATOR_TIME:":",SEPARATOR_NUMBER:",",SEPARATOR_DEFAULT:"-"},clickLmtAt=(Constants.DATE_FORMAT="yyyy"+Constants.SEPARATOR_DATE+"mm"+Constants.SEPARATOR_DATE+"dd",Constants.DATE_FORMAT_CAL="yy"+Constants.SEPARATOR_DATE+"mm"+Constants.SEPARATOR_DATE+"dd",Constants.TIME_FORMAT="hh"+Constants.SEPARATOR_TIME+"mi"+Constants.SEPARATOR_TIME+"ss",String.prototype.nvl=function(){return null==this?"":this},String.prototype.nvlNum=function(t){return null==this||""==this?t:this},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/gi,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.lpad=function(t,e){e=null==e?" ":e;for(var n="",a=0,o=t-this.byteLength();a<o;a++)n+=e;return n+this},String.prototype.rpad=function(t,e){e=null==e?" ":e;for(var n=this,a=0,o=t-this.byteLength();a<o;a++)n+=e;return n},String.prototype.replaceAll=function(t,e){return this.split(t).join(e)},String.prototype.removeAll=function(t){return this.replaceAll(t,"")},String.prototype.reverse=function(){for(var t="",e=this.length;0<e;)t+=this.charAt(--e);return t},String.prototype.byteLength=function(){for(var t=0,e=0;e<this.length;e++){var n=escape(this.charAt(e));1==n.length?t++:-1!=n.indexOf("%u")?t+=2:-1!=n.indexOf("%")&&(t+=n.length/3)}return t},String.prototype.byteIndexOf=function(t){t=this.indexOf(t);return-1==t?t:this.substring(0,t).byteLength()},String.prototype.substringByte=function(t,e){for(var n="",a=0,o=0;o<this.length;o++){var i=this.charAt(o),r=a;if(a+=i.byteLength(),t<=r&&a<=e)n+=i;else if(e<a)break}return n},String.prototype.substrByte=function(t,e){return this.substringByte(t,t+e)},String.prototype.defaultString=function(t){return""==this.trim()?t:this},String.prototype.toInt=function(){return""==this.trim()?0:parseInt(this.trim(),10)},String.prototype.toHex=function(){return this.toRadix(16)},String.prototype.toRadix=function(t){return Number(this).toString(t).toUpperCase()},String.prototype.isEmpty=function(){return 0==this.trim().length},String.prototype.toNumber=function(){return this.isNumber()?Number(this.unmask("real")):0},String.prototype.toDate=function(){var t=this.unmask("dateymd"),e=t.substr(0,4).toNumber(),n=t.substr(4,2).defaultString("0").toNumber()-1,t=t.substr(6,2).defaultString("1").toNumber();return new Date(e,n,t)},String.prototype.toDateTime=function(t){var e="",n="",n=t?(e=this,t):(e=this.split(" ")[0].unmask("dateymd"),this.split(" ")[1].unmask("timehms")),t=e.substr(0,4).toNumber(),a=e.substr(4,2).toNumber()-1,e=e.substr(6,2).toNumber(),t=new Date(t,a,e);return n&&(a=n.substr(0,2).toNumber(),e=n.substr(2,2).toNumber(),n=n.substr(4,2).toNumber(),t.setHours(a,e,n)),t},String.prototype.isDigit=function(){return!!this.isEmpty()||-1!=this.search(/^\d+$/)},String.prototype.isInt=function(){return!!this.isEmpty()||-1!=this.search(/^(?:\-?|\+?)\d+$/)},String.prototype.isDouble=function(t,e){return!!this.isEmpty()||(oriStr=this.removeAll(","),fracStr=0<=oriStr.indexOf(".")?(decStr=oriStr.substring(0,oriStr.indexOf(".")),oriStr.substring(oriStr.indexOf(".")+1)):(decStr=oriStr,""),!(t<decStr.length||e<fracStr.length)&&!isNaN(oriStr))},String.prototype.isNumber=function(){return!!this.isEmpty()||!isNaN(this)},String.prototype.isCardNo=function(){return!!this.isEmpty()||-1!=this.search(/^\d{4}\-?\d{4}\-?\d{4}\-?\d{4}$/)},String.prototype.isIdNo=function(){if(this.isEmpty())return!0;if(-1==this.search(/^\d{6}\-?\d{7}$/))return!1;for(var t=this.removeAll("-"),e=0,n=0;n<t.length-1;n++)e+=t.charAt(n)*(n%8+2);return t.charAt(12)==(11-e%11)%10},String.prototype.isBizNo=function(){if(this.isEmpty())return!0;if(-1==this.search(/^\d{3}\-?\d{2}\-?\d{5}$/))return!1;for(var t=this.removeAll("-"),e=new Array(1,3,7,1,3,7,1,3,5,1),n=0,a=0;a<t.length;a++)n+=t.charAt(a)*e[a]%10,8==a&&(n+=Math.floor(t.charAt(a)*e[a]/10));return n%10==0},String.prototype.isCorpNo=function(){if(this.isEmpty())return!0;if(-1==this.search(/^\d{6}\-?\d{7}$/))return!1;for(var t=this.removeAll("-"),e=0,n=0;n<t.length-1;n++)e+=t.charAt(n)*(n%2+1);return t.charAt(12)==10-e%10},String.prototype.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.prototype.isZipNo=function(){return!!this.isEmpty()||-1!=this.search(/^\d{3}\-?\d{3}$/)},String.prototype.isPhoneNo=function(){return!!this.isEmpty()||-1!=this.search(/^(?:0\d{1,2}\-?\d{2,4}|\d{2,4})\-?\d{4}$/)},String.prototype.isHpPhoneCode=function(){return!!this.isEmpty()||(console.log(this),-1!=this.search(/^01(?:0|1|[6-9])/))},String.prototype.isHpPhoneNo=function(){return!!this.isEmpty()||-1!=this.search(/^01(?:0|1|[6-9])(?:\d{3}|\d{4})\d{4}$/)},String.prototype.isYMD=function(){if(this.isEmpty())return!0;if(-1==this.search(/^(\d{4})[\/|\-|.]?(\d{2})[\/|\-|.]?(\d{2})$/))return!1;return!(12<RegExp.$2||RegExp.$2<1)&&(!(RegExp.$3>[31,29,31,30,31,30,31,31,30,31,30,31][RegExp.$2-1]||RegExp.$3<1)&&!(2==RegExp.$2&&28<RegExp.$3&&(RegExp.$1%4!=0||RegExp.$1%100==0&&RegExp.$1%400!=0)))},String.prototype.isYM=function(){return!!this.isEmpty()||-1!=this.search(/^(\d{4})[\/|\-|.]?(\d{2})$/)&&!(12<RegExp.$2||RegExp.$2<1)},String.prototype.isMD=function(){if(this.isEmpty())return!0;if(-1==this.search(/^(\d{2})[\/|\-|.]?(\d{2})$/))return!1;return!(12<RegExp.$1||RegExp.$1<1)&&!(RegExp.$2>[31,29,31,30,31,30,31,31,30,31,30,31][RegExp.$1-1]||RegExp.$2<1)},String.prototype.isHMS=function(){return!!this.isEmpty()||-1!=this.search(/^([0|1|2]\d):?(\d{2})?:?(\d{2})?$/)&&!(23<RegExp.$1||59<RegExp.$2||59<RegExp.$3)},String.prototype.isMS=function(){return!!this.isEmpty()||-1!=this.search(/^(\d{2}):?(\d{2})$/)&&!(59<RegExp.$1||59<RegExp.$2)},String.prototype.isEmail=function(){if(this.isEmpty())return!0;var t='[^\\s\\(\\)><@,;:\\\\\\"\\.\\[\\]]+',e="("+t+'|("[^"]*"))',e=new RegExp("^"+e+"(\\."+e+")*$"),n=(new RegExp("^"+t+"(\\."+t+")*$"),this.match(/^(.+)@(.+)$/));if(null==n)return!1;for(var a=n[1],o=n[2],i=0;i<a.length;i++)if(127<a.charCodeAt(i))return!1;for(i=0;i<o.length;i++)if(127<o.charCodeAt(i))return!1;if(null==a.match(e))return!1;var r=o.match(/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/);if(null!=r){for(i=1;i<=4;i++)if(255<r[i])return!1;return!0}var s=new RegExp("^"+t+"$"),l=o.split("."),c=l.length;for(i=0;i<c;i++)if(-1==l[i].search(s))return!1;return(2==l[l.length-1].length||-1!=l[l.length-1].search(/^(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum)$/))&&2<=c},String.prototype.isFormat=function(){if(this.isEmpty())return!0;for(var formatStr=arguments[0].split("-"),searchStr="this.search(/^",_i=0;_i<formatStr.length;_i++)searchStr+=0==_i?"\\d{"+formatStr[_i]+"}":"\\-?\\d{"+formatStr[_i]+"}";return searchStr+="$/) != -1;",eval(searchStr)},String.prototype.mask=function(t){var e=null;if(0<=t.indexOf("(")&&0<=t.indexOf(")")){var n=t.substring(t.indexOf("(")+1,t.indexOf(")"));t=t.substring(0,t.indexOf("(")),e=this.maskFormat(n)}else switch(t.toLowerCase()){case"number":case"numberdot":case"numberplus":break;case"amtplus":case"amt":case"amtdot":e=this.maskNumber();break;case"ymdhms":case"ymdhm":e=this.maskDateTime();break;case"dateymd":case"dateym":e=this.maskDate();break;case"datemd":e=this.maskDateMD();break;case"timehms":case"timehm":case"timems":e=this.maskTime();break;case"telno":case"hpno":e=this.maskPhoneNo();break;case"cardno":e=this.maskCardNo();break;case"idno":case"corpno":e=this.maskIdNo();break;case"bizno":e=this.maskBizNo();break;case"corp":e=this.maskIdNo();break;case"zipno":e=this.maskZipNo();break;default:e=this}return e=null!=e&&"undefined"!=e?e:this},String.prototype.unmask=function(t){var e=null;if(0<=t.indexOf("(")&&0<=t.indexOf(")"))e=this.removeAll(Constants.SEPARATOR_DEFAULT);else switch(t.toLowerCase()){case"number":case"numberdot":case"numberplus":case"amt":e=this.removeAll(Constants.SEPARATOR_NUMBER);break;case"dateymd":case"dateym":case"datemd":e=this.removeAll(Constants.SEPARATOR_DATE);break;case"timehms":case"timehm":case"timems":e=this.removeAll(Constants.SEPARATOR_TIME);break;case"telno":case"hpno":case"cardno":case"idno":case"bizno":case"corpno":case"zipno":e=this.removeAll(Constants.SEPARATOR_DEFAULT);break;default:e=this.trim()}return e=null!=e&&"undefined"!=e?e:this},String.prototype.maskNumber=function(){var t=this.removeAll(Constants.SEPARATOR_NUMBER),e="-"==(e=t.charAt(0))||"+"==e?(t=t.substr(1),"+"==e?"":"-"):"",n=t.indexOf("."),a="";if(-1<n&&(a=t.substr(n),t=t.substr(0,n)),t.length<=3)return e+t+a;for(var o=t.reverse(),i="",r=0,s=o.length;r<s;r+=3)i+=o.substr(r,3),r+3<s&&(i+=Constants.SEPARATOR_NUMBER);return e+i.reverse()+a},String.prototype.maskDateTime=function(){var t=this.removeAll(Constants.SEPARATOR_DATE).removeAll(Constants.SEPARATOR_TIME).removeAll(" "),e=t.substring(0,8),t=t.substring(8);return e.maskDate()+" "+t.maskTime()},String.prototype.maskDate=function(){var t=this.removeAll(Constants.SEPARATOR_DATE),e=t.length;return e<=4?t:e<=6?t.substr(0,4)+Constants.SEPARATOR_DATE+t.substr(4):e<=8?t.substr(0,4)+Constants.SEPARATOR_DATE+t.substr(4,2)+Constants.SEPARATOR_DATE+t.substr(6):void 0},String.prototype.maskDateMD=function(){var t=this.removeAll(Constants.SEPARATOR_DATE),e=t.length;return e<=2?t:e<=4?t.substr(0,2)+Constants.SEPARATOR_DATE+t.substr(2):void 0},String.prototype.maskTime=function(){var t=this.removeAll(Constants.SEPARATOR_TIME),e=t.length;return e<=2?t:e<=4?t.substr(0,2)+Constants.SEPARATOR_TIME+t.substr(2):t.substr(0,2)+Constants.SEPARATOR_TIME+t.substr(2,2)+Constants.SEPARATOR_TIME+t.substr(4,2)},String.prototype.maskPhoneNo=function(){var t=this.removeAll(Constants.SEPARATOR_DEFAULT),e=0,n="";return"02"==t.substr(0,2)?(n+=t.substr(0,2)+Constants.SEPARATOR_DEFAULT,e=2):"0"==t.charAt(0)&&(n+=t.substr(0,3)+Constants.SEPARATOR_DEFAULT,e=3),t.substr(e).length<4?n+=t.substr(e):t.substr(e).length<8?n+=t.substr(e,3)+Constants.SEPARATOR_DEFAULT+t.substr(e+3):n+=t.substr(e,4)+Constants.SEPARATOR_DEFAULT+t.substr(e+4),n},String.prototype.maskCardNo=function(){var t=this.removeAll(Constants.SEPARATOR_DEFAULT);return t.length<=4?t:t.length<=8?t.substr(0,4)+Constants.SEPARATOR_DEFAULT+t.substr(4):t.length<=12?t.substr(0,4)+Constants.SEPARATOR_DEFAULT+t.substr(4,4)+Constants.SEPARATOR_DEFAULT+t.substr(8):t.substr(0,4)+Constants.SEPARATOR_DEFAULT+t.substr(4,4)+Constants.SEPARATOR_DEFAULT+t.substr(8,4)+Constants.SEPARATOR_DEFAULT+t.substr(12)},String.prototype.maskIdNo=function(){var t=this.removeAll(Constants.SEPARATOR_DEFAULT);return t.length<=6?t:t.substr(0,6)+Constants.SEPARATOR_DEFAULT+t.substr(6)},String.prototype.maskBizNo=function(){var t=this.removeAll(Constants.SEPARATOR_DEFAULT);return t.length<=3?t:t.length<=5?t.substr(0,3)+Constants.SEPARATOR_DEFAULT+t.substr(3):t.substr(0,3)+Constants.SEPARATOR_DEFAULT+t.substr(3,2)+Constants.SEPARATOR_DEFAULT+t.substr(5)},String.prototype.maskZipNo=function(){var t=this.removeAll(Constants.SEPARATOR_DEFAULT);return t.length<=3?t:t.substr(0,3)+Constants.SEPARATOR_DEFAULT+t.substr(3)},String.prototype.maskFormat=function(){for(var t=this.removeAll(Constants.SEPARATOR_DEFAULT),e=arguments[0].split("-"),n="",a=0,o=0;o<e.length;o++){if(a+parseInt(e[o])>=t.length)return n+=0==o?t.substring(a,a+parseInt(e[o])):"-"+t.substring(a,a+parseInt(e[o]));n+=0==o?t.substring(a,a+parseInt(e[o])):"-"+t.substring(a,a+parseInt(e[o])),a+=parseInt(e[o])}return n},String.prototype.format=function(t,n){n=n||"X";var a,o=this;return o.length==t.length-t.removeAll(n).length?(a=0,t.split("").map(function(t,e){return t==n?o.charAt(a++):t}).join("")):o},String.prototype.posterFormat=function(t){var e;return null!=this&&"null"!=this&&0<this.length&&0<this.lastIndexOf(".")?-1<this.indexOf("/SharedImg/asis/")?(e="","_230"==t||"_150"==t?e=".medium":"_150"==t&&(e=".small"),-1<this.indexOf("/store")&&("_280"==t?e=".medium":"_196"==t&&(e=".small")),0<e.length?this.replaceAll(".large",e):this.replaceAll(t,".large")):0<this.lastIndexOf("_")?this.slice(0,this.lastIndexOf("_"))+t+this.slice(this.lastIndexOf(".")):this.slice(0,this.lastIndexOf("."))+t+this.slice(this.lastIndexOf(".")):this},String.prototype.bokdFormat=function(){var t=this.toString();return 12!=t.length?t:t.format("XXXX-XXX-XXXXX")},String.prototype.cponFormat=function(){for(var t=this.toString(),e="XXXX",n=t.length/4-1;n--&&!(n<0);)e+="-XXXX";return t.format(e)},String.prototype.payDtFormat=function(){var t=this.toString();return(t=12<t.length?t.substring(0,12):t).format("XXXX.XX.XX (XX:XX)")},String.prototype.megaFormat=function(t,e){var n=this.toString(),a=n.length;if(8!=a&&12!=a&&14!=a)return n;var o=n.substring(0,8),i=(o+=(void 0!==t&&"en"==t?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:["일","월","화","수","목","금","토"])[new Date(o.format("XXXX-XX-XX")).getDay()],"");return 8<a&&(i=n.substring(8),i=12==a?i.format(" XX:XX"):i.format(" XX:XX:XX")),n="M"==e?(o=o.substring(4),void 0!==t&&"en"==t?o.format("XX.XX (XXX)")+i:o.format("XX.XX (X)")+i):void 0!==t&&"en"==t?o.format("XXXX.XX.XX (XXX)")+i:o.format("XXXX.XX.XX (X)")+i},String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;")},String.prototype.unescapeHtml=function(){return jQuery?$("<div />").html(this).text():this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&#35;/g,"#").replace(/&#39;/g,"'")},Date.day,Date.prototype.getSystemDate=function(){var t=new Date($.ajaxMegaBox({url:"/getSystemDate",async:!0}).responseJSON.sysDate.toDay);return Date.day&&t.formatDate()===Date.day.formatDate()?Date.day:Date.day=t},Date.prototype.formatDate=function(t){var e=this,n=(t=t||Constants.DATE_FORMAT,e.getMonth()+1),a=e.getFullYear(),n=(-1<(t=t.replaceAll("mm",n.toString().lpad(2,"0"))).indexOf("yyyy")?t=t.replace("yyyy",a.toString()):-1<t.indexOf("yy")&&(t=t.replace("yy",a.toString().substr(2,2))),t=t.replace("dd",e.getDate().toString().lpad(2,"0")),e.getHours());return t=-1<(t=-1<(t=-1<(t=-1<(t=-1<t.indexOf("t")?11<n?t.replace("t","pm"):t.replace("t","am"):t).indexOf("hh")?t.replace("hh",n.toString().lpad(2,"0")):t).indexOf("hh")?t.replace("hh",(n=0==n?12:n).toString().lpad(2,"0")):t).indexOf("mi")?t.replace("mi",e.getMinutes().toString().lpad(2,"0")):t).indexOf("ss")?t.replace("ss",e.getSeconds().toString().lpad(2,"0")):t},Number.prototype.format=function(){if(0==this)return 0;for(var t=/(^[+-]?\d+)(\d{3})/,e=this+"";t.test(e);)e=e.replace(t,"$1"+Constants.SEPARATOR_NUMBER+"$2");return e},Number.prototype.round=function(t){if(0<t){var e=this.toFixed(t+1).match(new RegExp("(-?\\d*).(\\d{"+t+"})(\\d)\\d*$"));if(e&&e.length)return new Number(e[1]+"."+String(Math.round(e[2]+"."+e[3])).lpad(t,"0"))}return this},Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,a=new Array(n);n--;)a[n]=[e[n],t[e[n]]];return a}),Object.fromEntries||(Object.fromEntries=function(t){for(var e=t.length,n={};e--;)n[t[e][0]]=t[e][1];return n}),Math.sign=function(t){return 0<t?1:0==t?0:-1},$.getScript("/static/mb/js/lozad.min.js"),$(function(){$.datepicker.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일","월","화","수","목","금","토"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:Constants.DATE_FORMAT_CAL,firstDay:0,isRTL:!1,duration:200,showAnim:"show",showMonthAfterYear:!0,yearSuffix:"년",showOtherMonths:!0,selectOtherMonths:!0},$.datepicker.setDefaults($.datepicker.regional.ko)}),$.fn.megaBoxNumberCheck=function(){$(this).on("keypress",function(t){if(!t.key.isNumber())return!1}),$(this).on("keyup",function(t){t.key&&!t.key.isNumber()&&(t=$(this).val(),$(this).val(t.replace(/[^0-9]/gi,"")))}),$(this).on("focusout",function(t){$(this).val($(this).val().replace(/[^0-9]+/g,""))})},$.fn.passTrim=function(){$(this).on("keypress",function(t){if(-1<t.key.indexOf(" "))return!1}),$(this).on("keyup",function(t){var e=$(this).val();$(this).val(e.replace(/(^\s*)|(\s*$)/gi,""))}),$(this).on("focusout",function(t){$(this).val($(this).val().replace(/(^\s*)|(\s*$)/gi,""))})},$.fn.megaBoxNumberHPCheck=function(){$(this).on("keypress",function(t){if(!t.key.isNumber())return!1}),$(this).on("keyup",function(t){t.key.isNumber()||(t=$(this).val(),$(this).val(t.replace(/[^0-9]/gi,"")))}),$(this).on("focusout",function(t){$(this).val($(this).val().replace(/\B(?=(\d{4})+(?!\d))/g,"-"))}),$(this).on("focusin",function(t){$(this).val($(this).val().replace(/[-]/g,""))})},$.fn.megaBoxPwdCheck=function(){var t=/[^0-9a-zA-Z~!@#$%^&*+=\-?_]/gi;new RegExp(t).test($(this).val())&&($(this).val($(this).val().replace(t,"")),$(this).hasClass("unclickable")||($(this).addClass("unclickable"),$(this).data("ui-tooltip")&&($(this).tooltip("open"),setTimeout(function(){$(this).tooltip("close"),$(this).removeClass("unclickable")}.bind(this),1e3)),$(this).next(".tooltiptext").length&&$(this).next(".tooltiptext").fadeIn(function(){setTimeout(function(){$(this).next(".tooltiptext").fadeOut(),$(this).removeClass("unclickable")}.bind(this),1e3)}.bind(this))))},!0),clickLmtUrl;function clearLmt(){clickLmtAt=!0}function sessionAllow(t){var a="";return!!t.commAt||(null!=t.url&&-1<t.url.indexOf("/MbLogin")||(!t.sessionAt&&0!=location.pathname.indexOf("/mypage")&&0!=location.pathname.indexOf("/myMegabox")||$.ajax({url:"/sessionChk.do",type:"POST",contentType:"application/json;charset=UTF-8",dataType:"json",async:!1,success:function(t,e,n){"Y"!=t.loginYn&&(a="로그인 후 이용가능한 서비스입니다.")},error:function(t,e,n){a="잘못된 접근입니다."}}),""==a||(t=void 0,-1<navigator.userAgent.indexOf("MegaBox")||(t=function(){0!=location.pathname.indexOf("/mypage")&&0!=location.pathname.indexOf("/myMegabox")||("MON"==sysCd?AppHandler.Common.goMain():location.href="/")}),gfn_alertMsgBox(a,t),!1)))}$.ajaxMegaBox=function(t){var i=$.extend({url:"",type:"POST",method:"POST",contentType:"application/json; charset=UTF-8",dataType:"json",secure:"N",data:{},processData:!0,async:!0,cache:!0,global:!0,jsonp:null,jsonpCallback:null,complete:null,success:null,error:null,errorMsgYn:!0,sessionAt:!1,commAt:!1,clickLmtChk:!1},t);if(i.clickLmtChk){if(!clickLmtAt&&clickLmtUrl==i.url)return void gfn_alertMsgBox("중복 클릭 방지");clickLmtAt=!1,clickLmtUrl=i.url,setTimeout(clearLmt,3e3)}t="";""==i.url&&(t="Y"==i.secure?-1<location.hostname.indexOf("localhost")?"https://"+location.hostname+":443":"https://"+location.hostname:-1<location.hostname.indexOf("localhost")?"http://"+location.host:"http://"+location.hostname),i.url=t+i.url,sessionAllow(i)&&$.ajax($.extend(i,{error:function(t,e,n){try{var a,o;i.errorMsgYn?(a=JSON.parse(t.responseText),(o={}).msg=a.msg,o.param={xhr:t,status:e,error:n,setting:i},MegaboxUtil.Common.isMobile()?AppHandler.Common.alert(gfn_scrtDecode(a.msg)):gfn_alertMsgBox(o)):i.error&&i.error(t,e,n)}catch(t){console.log("ajaxMegaBox Exception")}0<$("#bg-loading").length&&gfn_logdingModal()}}))},$.event.special.doubleTap={bindType:"touchend",delegateType:"touchend",handle:function(e){var t=e.handleObj,n=jQuery.data(e.target),a=(new Date).getTime(),o=n.lastTouch?a-n.lastTouch:0,i=null==i?300:i;o<i&&30<o?(n.lastTouch=null,e.type=t.origType,["clientX","clientY","pageX","pageY"].forEach(function(t){e[t]=e.originalEvent.changedTouches[0][t]}),t.handler.apply(this,arguments)):n.lastTouch=a}};var Common=function(){var n=!1,e=(this.bindSelectBox=function(t){t=$.extend({obj:$("select"),size:10},t);t.obj.selectpicker({dropdownAlignRight:"auto",dropupAuto:!0,size:t.size})},this.refreshSelectBox=function(t){t.selectpicker("refresh")},this.strByteLength=function(t){var e,n=0,a=t.length;if(0==a)return 0;for(var o=0;o<a;++o)e=t.charAt(o),4<escape(e).length?n+=2:n++;return n},this.strByteLengthGetLen=function(t,e){var n,a=t.length,o={length:0,totalByte:0};if(0==a)return o;for(var i=0;i<a&&(n=t.charAt(i),o.length=i,4<escape(n).length?o.totalByte+=2:o.totalByte++,!(o.totalByte>e));++i);return o},this.isMobile=function(){var n=!1;return $.each(["iPad","iPhone","Android"],function(t,e){if(-1<navigator.userAgent.indexOf(e))return n=!0}),n},this.isApp=function(){var t=!1;return-1<navigator.userAgent.indexOf("MegaBox")||t},this.alert=function(t,e){MegaboxUtil.Common.isMobile()?t instanceof Object?t.confirmFn&&t.param.confirm?confirm(t.msg)?t.confirmFn(t.param.confirm):t.confirmFn(t.param.cancelFn):t.callback&&t.param.confirm&&(t.msg&&alert(t.msg),t.callback(t.param.confirm)):MegaboxUtil.Common.isApp()?AppHandler.Common.alert(t):alert(t):(n=e,gfn_alertMsgBox(t,MegaboxUtil.Common.alerCallback))},this.alerCallback=function(){n&&location.reload()},this.bindNumberTypeEvent=function(){$(".numType").on("keyup",function(){this.bfVal;isNaN(this.value)&&$(this).val("")}).on("keydown",function(){this.bfVal=this.value})},this.bindTextateaLengthEvent=function(t){var e=$.extend({objId:"textarea",cntId:"textareaCnt",obj:"",cnt:"",maxLen:2e3},t);""==e.obj&&(e.obj=$("#"+e.objId)),""==e.cnt&&(e.cnt=$("#"+e.cntId)),e.obj.on("change input",function(){var t=MegaboxUtil.Common.strByteLengthGetLen(this.value,e.maxLen);t.totalByte>e.maxLen?(MegaboxUtil.Common.alert("최대 "+e.maxLen+"byte까지 입력 가능합니다."),this.value=this.value.substring(0,t.length),e.cnt.text(MegaboxUtil.Common.strByteLength(this.value))):e.cnt.text(t.totalByte)})},this.bindTextateaLengthEventSubStr=function(t,e){var t=t?"#"+t:"#textarea",n=$.extend({maxLen:2e3},e);$(t).bind("change keyup input",function(t){var e=MegaboxUtil.Common.strByteLengthGetLen(this.value,n.maxLen);console.log("result : "+e.length+" : "+$(this).val()+" : "+$(this).val().substr(e.length)),e.totalByte>n.maxLen?(MegaboxUtil.Common.alert("최대 "+n.maxLen+"byte까지 입력 가능합니다."),$(this).val($(this).val().substr(0,e.length)),$("#textareaCnt").text(n.maxLen)):$("#textareaCnt").text(e.totalByte)})},this.selectList=function(t){$.ajaxMegaBox({type:"POST",contentType:"application/json;charset=UTF-8",url:t.url,dataType:"json",data:JSON.stringify(t.data),async:!0,success:t.success,error:t.error||e})},function(t,e,n){MegaboxUtil.Common.alert("오류가 발생하였습니다.")});this.isPaging=function(t,e,n){return t<Math.ceil(n/e)},this.moveMovieFilmCheckGnb=function(){var e=!0;return $.ajaxMegaBox({url:"/on/oh/oha/Movie/selectFilmfsvList.do",async:!1,success:function(t){e=0<t.list.length}}),e},this.moveMovieFilmCheck=function(){$.ajaxMegaBox({url:"/on/oh/oha/Movie/selectFilmfsvList.do",success:function(t){0<t.list.length?location.href="/festival":MegaboxUtil.Common.alert("현재 진행중인 영화제가 없습니다.")}})}},Form=function(){var n,e=/((?=.{10,})(?=.*[0-9])(?=.*[a-zA-Z])(?!.*[^0-9a-zA-Z~!@#$%^&*+=\-_?]).*$)|((?=.{10,})(?=.*[~!@#$%^&*+=\-_?])(?=.*[a-zA-Z])(?!.*[^0-9a-zA-Z~!@#$%^&*+=\-_?]).*$)|((?=.{10,})(?=.*[!@#$%^&*+=\-_?])(?=.*[0-9])(?!.*[^0-9a-zA-Z~!@#$%^&*+=\-_?]).*$)/gi,i={id:/^(?=.*[0-9])[a-zA-Z0-9]{8,12}$/gi,pw:e,email:/((?=.{3,})(?=.*[@])(?=.*[\.]).*$)/gi},a=(this.createForm=function(){var t=$("<form>").attr({name:"movieForm",method:"post"});return $("body").append(t),t},this.getForm=function(t){return $(document.forms[t])},this.send=function(t,e){null==(n=e).headers&&(e.headers=null),$.ajaxMegaBox({url:e.url,data:JSON.stringify(e.data),clickLmtChk:e.clickLmtChk||!1,headers:e.headers||null,success:e.success||a,error:e.error||o,complete:e.complete||clearLmt})},function(t){MegaboxUtil.Common.alert(n.sMsg||"저장 되었습니다.",!0)}),o=function(){MegaboxUtil.Common.alert(n.eMsg||"오류가 발생하였습니다.")},r=(this.getFormObjData=function(t){var t=t.serializeArray(),n={};return $.each(t,function(t,e){n[e.name]=e.value,"lentDe"==e.name&&(n[e.name]=e.value.replace(/[-,.]/gi,""))}),n},this.checkInputNonData=function(n){var a=!1,t=MegaboxUtil.Form.getFormObjData(n);return $.map(t,function(t,e){if(input=n.find("[name="+e+"]"),""==n.find("[name="+e+"]").val())return a=!0}),a},this.createInput=function(n,a){var o,i,t=MegaboxUtil.Form.getFormObjData(n);$.map(t,function(t,e){o=a.find("[name="+e+"]"),i=n.find(r(n,e)),i=i&&""==t?"N":t,0==o.length?(o=$("<input>").attr({type:"hidden",name:e}).val(i),a.append(o)):o.val(i)})},this.getInputString=function(t){var t=MegaboxUtil.Form.getFormObjData(t),n="";return $.map(t,function(t,e){n+="^"+e+"|"+t}),n},function(t,e){t=0<$(t).find("input[type=radio][name="+e+"]").length||0<$(t).find("input[type=checkbox][name="+e+"]").length;return t}),s=(this.validRegForm=function(t,a){var o,i=!0;return $.each(t,function(t,e){if(!(e.target instanceof Array))return o=a?a.find(e.target):$(e.target),!s(o,e.msg)||e.pattern&&!MegaboxUtil.Form.vlidRegDataCheck(o,e.pattern,!0)?i=!1:e.eq&&o.val()!=$(e.eq.target).val()?(MegaboxUtil.Common.alert(e.eq.msg),i=!1):void 0;for(var n=0;n<e.target.length;++n)if(o=a?a.find(e.target[n]):$(e.target[n]),!s(o,e.msg))return i=!1}),i},function(t,e){var n=!0;return""!=t.val().trim()&&null!=t.val()||(n=!1,"lentDe"!=t.attr("name")&&t.focus(),MegaboxUtil.Common.alert(e)),n});this.vlidRegDataCheck=function(t,e,n){var a=e.msg,o=!0;return new RegExp(i[e.id]).test(t.val())||(n&&MegaboxUtil.Common.alert(a),o=!1),o},this.validatePwdString=function(t){return!!new RegExp(e).test(t)}},Movie=function(){var n,p='<li tabindex="0" class="no-img"><div class="movie-list-info">    <p class="rank" style="display: none">boxoRank<span class="ir">위</span></p>    <img src="posterPathData" alt="movieNm" class="poster lozad" onerror="noImg(this)" />    <div class="curation">        <p class="film" style="display: none">필름 소사이어티</p>        <p class="classic" style="display: none">클래식 소사이어티</p>    </div>    <div class="screen-type2">        <p name="dbcScrean" style="display: none"><img src="/static/pc/images/common/btn/mov_top_tag_db.png" alt="dolby" /></p>        <p name="mxScreen"  style="display: none"><img src="/static/pc/images/common/btn/mov_top_tag_mx.png" alt="mx" /></p>    </div>    <div class="movie-score">        <a href="#" class="wrap movieBtn" data-no="movieNo" title="aTag_title">            <div class="summary">movieSynopCn</div>            <div class="my-score pointClass">                <div class="preview">                    <p class="tit">관람평</p>                    <p class="number">admisYSpoint<span class="ir">점</span></p>                </div>            </div>        </a>    </div></div><div class="tit-area">    <p class="movie-grade admisClass">admisText</p>    <p title="movieNm" class="tit">movieNm</p></div><div class="rate-date">    <span class="rate">예매율 boxoBokdRt&#37;</span>    <span class="date">개봉일 rfilmDe</span></div><div class="btn-util">    <button type="button" class="button btn-like" data-no="movieNo"><i title="보고싶어 intrstText" class="iconset ico-heart-toggle-gray intrstType"></i> <span>intrstCnt</span></button>    <p class="txt movieStat1" style="display: none">상영예정</p>    <p class="txt movieStat2" style="display: none">monthDe월 개봉예정</p>    <p class="txt movieStat5" style="display: none">개봉예정</p>    <p class="txt movieStat6" style="display: none">상영종료</p>    <div class="case col-2 movieStat3" style="display: none">        <a href="#" class="button purple bokdBtn" data-no="movieNo" title="영화 예매하기">예매</a>        <a href="#" class="button purple img splBtn" data-no="movieNo"><img src="/static/pc/images/common/btn/mov_list_db_btn.png" alt="dolby 버튼" /></a>    </div>    <div class="case movieStat4" style="display: none">        <a href="#" class="button purple bokdBtn" data-no="movieNo" title="영화 예매하기">예매</a>    </div></div></li>',u=(this.setImgSvrUrl=function(t){n=t},this.createHtml=function(t,a,e,o){var i,r,s,l,c,m=n||"";imgPathAr=[],e||MegaboxUtil.Movie.removeHtml(a),$.each(t,function(t,e){i=p.concat(),e.imgPathNm,l=e.boxoBokdRt||0,"MSC02"==e.onairYn||"classic"==e.specialType||"film"==e.specialType||"Y"==e.movienmSearchYn||"Y"==e.festivalYn?i=i.replaceAll(/boxoRank/,""):e.boxoRank&&(i=i.replaceAll(/boxoRank/,e.rowNum)),i=(i=(i=i.replaceAll(/posterPathData/,m+nvl(e.imgPathNm).posterFormat("_420"))).replaceAll(/movieNm/,e.movieNm)).replaceAll(/movieSynopCn/,e.movieSynopCn),c=e.admisNSpoint>e.admisYSpoint?"smal":e.admisNSpoint<e.admisYSpoint?"big":"equa",i=(i=(i=i.replaceAll(/pointClass/,c)).replaceAll(/admisNSpoint/,e.admisNSpoint)).replaceAll(/admisYSpoint/,e.admisYSpoint),"AD01"==e.admisClassCd?r="age-all":"AD02"==e.admisClassCd?r="age-12":"AD03"==e.admisClassCd?r="age-15":"AD04"==e.admisClassCd?r="age-19":r="age-no",i=(i=(i=i.replaceAll(/admisClass/,r)).replaceAll(/admisText/,e.admisText)).replaceAll(/boxoBokdRt/,l),i=null!=e.rfilmDe?(i=i.replaceAll(/rfilmDe/,e.rfilmDe)).replaceAll(/monthDe/,Number(e.rfilmDe.substr(5,2))):null!=e.rfilmYm?(i=i.replaceAll(/rfilmDe/,e.rfilmYm+" 월경")).replaceAll(/monthDe/,Number(e.rfilmYm.substr(5,2))):(i=i.replaceAll(/rfilmDe/,"")).replaceAll(/monthDe/,""),"Y"==e.intrstAt||o?(s="함",i=i.replaceAll(/intrstType/,"on")):s="안함",i=i.replaceAll(/intrstText/,s);var n="",n=999<e.intrstCnt?Math.floor(e.intrstCnt/1e3*10)/10+"k":e.intrstCnt;i=(i=(i=i.replaceAll(/intrstCnt/,n)).replaceAll(/movieNo/,e.rpstMovieNo)).replaceAll(/aTag_title/,e.movieNm+" 상세보기"),a.append(i),c=a.find("li:last"),o&&c.find(".rate-date").hide(),"Y"==e.filmAfAt&&c.find(".my-score").hide(),e.boxoRank&&!o&&c.find(".rank").show(),"Y"==e.filmAt&&"classic"!=e.specialType&&c.find(".film").show(),"Y"==e.classicAt&&"film"!=e.specialType&&c.find(".classic").show(),"Y"==e.mxTheabAt&&c.find("[name=mxScreen]").show(),"Y"==e.dbcTheabAt&&c.find("[name=dbcScrean]").show(),("MSC01"==e.movieStatCd&&"Y"==e.dbcTheabAt&&"Y"==e.bokdAbleYn?c.find(".movieStat3"):"MSC01"==e.movieStatCd&&"Y"==e.bokdAbleYn?c.find(".movieStat4"):"MSC02"==e.movieStatCd&&"Y"==e.dbcTheabAt&&null!=e.rfilmDeReal?c.find(".movieStat3"):"MSC02"==e.movieStatCd&&"Y"==e.bokdAbleYn&&null!=e.rfilmDeReal?c.find(".movieStat4"):"MSC02"==e.movieStatCd&&"N"==e.bokdAbleYn&&null!=e.rfilmDeReal?c.find(".movieStat5"):"MSC02"==e.movieStatCd&&"N"==e.bokdAbleYn&&null==e.rfilmDeReal&&null!=e.rfilmYm?c.find(".movieStat2"):"MSC03"==e.movieStatCd?c.find(".movieStat6"):c.find(".movieStat1")).show()}),o&&$(".tit-area .tit").each(function(t){var e=$(this).html();$(this).html("<a href='javaScript:void(0)' title='"+e+"'>"+e+"</a>")}),u(a,o)},this.removeHtml=function(t){t.empty()},function(t,e){t.find(".movie-list-info").off().on({mouseenter:function(){e?$(this).find(".movie-score").finish().addClass("on"):$(this).find(".movie-score").finish().addClass("on").animate({opacity:1},300)},mouseleave:function(){e||$(this).find(".movie-score").finish().animate({opacity:0},300,function(){$(this).removeClass("on")})},focus:function(){e||$(this).find(".movie-score").finish().addClass("on").animate({opacity:1},300)},blur:function(){e||$(this).find(".movie-score").finish().animate({opacity:0},300,function(){$(this).removeClass("on")})}}),$(".btn-like").off().on("click",function(){a(this)}),$(".bokdBtn").off().on("click",function(t){t.preventDefault(),o($(this).data("no"))}),$(".splBtn").off().on("click",function(t){t.preventDefault(),o($(this).data("no"),!0)}),$(".movieBtn").off().on("click",function(t){t.preventDefault();var e=$(this).data("no");$.ajaxMegaBox({url:"/on/oh/oha/Movie/selectMovieInfoCheck.do",data:JSON.stringify({rpstMovieNo:e}),success:function(t){t.result?i(e,!0):gfn_alertMsgBox("영화정보가 존재하지 않습니다.")}})}),e&&$(".tit-area .tit").off().on("click",function(t){$(this).parent().parent().find(".movieBtn").trigger("click")})}),a=function(n){$.ajaxMegaBox({url:"/on/oh/oha/Movie/mergeMovieHeart.do",data:JSON.stringify({rpstMovieNo:$(n).data("no")}),sessionAt:!0,success:function(t){t=t.resultMap;if("sessionFail"==t.msg)return gfn_alertMsgBox("로그인 후 이용가능한 서비스입니다.");"D"==t.rowStatCd?($(n).attr("title","보고싶어 안함"),$(n).find("i").removeClass("on")):($(n).attr("title","보고싶어 함"),$(n).find("i").addClass("on"));var e="",e=999<t.intrstCnt?Math.floor(t.intrstCnt/1e3*10)/10+"k":t.intrstCnt;$(n).find("span").html(e),window.fn_selectMovieList&&fn_selectMovieList()}})},o=function(t,e){var n=MegaboxUtil.Form.createForm();n.append($("<input>").attr({type:"hidden",name:"rpstMovieNo",value:t})),n.attr("action","/booking"),e&&n.append($("<input>").attr({type:"hidden",name:"theabKindCd1",value:"DBC"})),n.submit()},i=function(t){var e=MegaboxUtil.Form.createForm();e.append($("<input>").attr({type:"hidden",name:"rpstMovieNo",value:t})),e.attr("method","get"),e.attr("action","/movie-detail"),e.submit()},r=(this.bindMyViewMovieEvent=function(t,e){MegaboxUtil.Common.bindNumberTypeEvent(),$("#"+t).off().on("click",function(t){if("Y"!=$("#isLogin").val())return gfn_alertMsgBox("로그인후 이용 가능한 서비스입니다."),!1}),r()},function(){$("#movie_regi").val(""),$("#movie_regi").next().off().on("click",function(){var t=$("#movie_regi").val();if(""==t)return gfn_alertMsgBox("거래번호 또는 예매번호를 입력해주세요.");$.ajaxMegaBox({url:"/on/oh/ohb/Movie/insertAdmisMovie.do",data:JSON.stringify({tranNo:t}),clickLmtChk:!0,success:function(t){var e;"admisY"==t.result?gfn_alertMsgBox("이미 등록된 영화입니다."):"noTranNo"==t.result?gfn_alertMsgBox("존재하지않는 거래번호 또는 예매번호 입니다."):"playEnd"==t.result?gfn_alertMsgBox("본 영화는 상영시간 종료 후 등록하실 수 있습니다."):"complete"==t.result?gfn_alertMsgBox("더 이상 등록할 수 없는 거래번호 또는 예매번호 입니다."):(fn_callbackInsertMovies(t.rpstMovieNo),e={},-1===location.pathname.indexOf("/movie-detail")?(e.msg="본 영화 등록이 완료되었습니다.\n관람하신 영화에 대한 관람평을 지금 작성하시겠습니까?",e.confirmFn=function(){t.rpstMovieNo&&(location.href="/movie-detail/comment?rpstMovieNo="+t.rpstMovieNo)},gfn_confirmMsgBox(e)):(e.msg="영화가 등록 되었습니다.",gfn_alertMsgBox(e)))},complete:function(t){$("#movie_regi").val(""),clearLmt()}})})})};function fn_callbackInsertMovies(t){$("#movie_regi").val(""),$("#rpstMovieNo").val()==t&&($(".btn-modal-open.oneWrtBtn").attr("href","#layer_regi_reply_review"),gMbAdmisAt="Y"),$("#saw_movie_regi .btn-modal-close").trigger("click"),null!=MegaboxUtil.MovieStory&&MegaboxUtil.MovieStory.createSeenMovie(),4==$(".box-border.link-movie-story em").size()&&$(".box-border.link-movie-story em:eq(0)").html(Number($(".box-border.link-movie-story em:eq(0)").html())+1)}var MoviePost=function(){var d,g=1,f=(this.createMoviePostList=function(a,t,e,o){var i,r,s,l,n,c=t.data||null,m=0,p=(t.loginId,t.imgSvrUrl||""),u=t.moreTarget?$(document).find("#"+t.moreTarget):$(document).find(".more-movie-list");e||(a.find(".grid-item").remove(),$.each(a.find(".grid-item"),function(t,e){a.masonry("remove",e)})),null!=t.moviePostNo&&""!=t.moviePostNo&&(i="",i=(i+='<div class="" style="display:none;">')+'\t<a href="#layer_post_detail" class="post-detailPopup btn-modal-open2 target" w-data="850" h-data="auto" data-no="'+t.moviePostNo+'" data-url="" title="상세보기">\t\t<img src="/static/pc/images/common/bg/bg-noimage-notmain.png" alt="상세보기 이미지" onerror="noImg(this);">\t</a></div>',a.append(i)),$.each(c,function(t,e){var n;r="Y"==e.likeYn?" on":"",g=e.currentPage,m=e.totCnt,l=e.loginId||e.mbNm,i='<div class="grid-item">    <div class="wrap">',"Y"==e.postMaskAt&&(n="",n="SPOL"==e.postMaskResnCd?"영화 내용에 대한 스포일러가 포함되어 있어 내용을 표시하지 않습니다.":"SLAN"==e.postMaskResnCd?"비방,욕설,선정적 내용이 포함되어 있어 내용을 표시하지 않습니다.":"ADVT"==e.postMaskResnCd?"광고, 홍보성 내용이 포함되어 있어 내용을 표시하지 않습니다.":"NOTA"==e.postMaskResnCd?"작성된 내용이 무의미한 문자의 나열로 구성되어 내용을 표시하지 않습니다.":"관리자가 내용의 표시를 차단했습니다.",i=(i+='<div class="warning">    <div class="table">        <div class="inner-text">            <i class="iconset ico-ping-triangle"></i>')+"            <p>"+n+"</p>        </div>    </div></div>"),s="MOVIEPOST"==e.moviePostImgDivCd?e.imgPath:nvl(e.imgPath).posterFormat("_230"),i=(i=(i+='        <div class="img">')+'            <a href="#layer_post_detail" title="무비포스트 상세보기" class="post-detailPopup btn-modal-open2"  w-data="850" h-data="auto" data-no="'+e.moviePostNo+'" data-row="'+e.rowNum+'" data-tot="'+e.totCnt+'" data-url="'+o+'"><img src="'+p+s+'" alt="'+e.moviePostMovieTitle+'" onerror="noImg(this);"> /></a>        </div>        <div class="cont">            <div class="writer">')+'                <a href="#" title="'+l+'님의 무비포스트 보기" class="moviePostId" data-id="'+e.mbUid+'">'+l+"</a>","Y"==e.isMy&&(i+='<p class="my">my</p>'),i+="            </div>","Y"!=e.maniaAt&&"Y"!=e.edtpikAt||(i=i+('            <a href="#layer_post_detail" title="무비포스트 상세보기" class="link btn-modal-open2 post-detailPopup" w-data="850" h-data="auto" data-no="'+e.moviePostNo+'" data-row="'+e.rowNum+'" data-tot="'+e.totCnt)+'">                <div class="label">',"Y"==e.maniaAt&&(i+='<p class="mania">Movie mania</p>'),"Y"==e.edtpikAt&&(i+='<p class="pick">Editor’s Pick</p>'),i+="                </div>            </a>"),i=(i=(i+='            <a href="/movie-detail?rpstMovieNo='+e.rpstMovieNo+'" title="'+e.moviePostMovieTitle+' 상세보기">')+'                <p class="tit">'+e.moviePostMovieTitle+"</p>            </a>")+'            <a href="#layer_post_detail" title="무비포스트 상세보기" class="link btn-modal-open2 post-detailPopup" w-data="850" h-data="auto" data-no="'+e.moviePostNo+'" data-row="'+e.rowNum+'" data-tot="'+e.totCnt+'">',null==e.moviePostImgDesc?i+='                <p class="txt">'+e.moviePostImgDesc+"</p>":i+='                <p class="txt">'+e.moviePostImgDesc.replaceAll("\n","<br>")+"</p>",i=(i=(i=i+('                <p class="time">'+e.fstRegDt)+'</p>            </a>            <div class="condition">')+'                <button type="button" class="btn-like postLikeBtn listBtn jsMake" data-no="'+e.moviePostNo+'"><i class="iconset ico-like'+r+'">좋아요 수</i> <span class="none">'+e.postRcmmCnt+"</span></button>")+'                <a href="#layer_post_detail"  title="댓글 작성하기" class="link btn-modal-open2 post-detailRlyPopup"  w-data="850" h-data="auto" data-no="'+e.moviePostNo+'" data-row="'+e.rowNum+'" data-tot="'+e.totCnt+'"><i class="iconset ico-reply">댓글 수</i> '+e.moviePostRlyCnt+"</a>            </div>        </div>    </div></div>",a.append(i)}),d?(n=12*(g-1),$.each(a.find(".grid-item"),function(t,e){n<=t&&a.masonry("appended",e)}),d.masonry("layout")):d=a.masonry({itemSelector:".grid-item",columnWidth:230,gutter:60}),12<m?u.show():u.hide(),f()},function(){$(".postLikeBtn.jsMake").off().on("click",function(){var e=$(".postLikeBtn").index(this);$.ajaxMegaBox({url:"/on/oh/oha/Movie/mergeMoviePostHeart.do",data:JSON.stringify({artiNo:$(this).data("no"),artiDivCd:"MOPO"}),sessionAt:!0,success:function(t){t=t.resultMap;if("sessionFail"==t.msg)return gfn_alertMsgBox("로그인 후 이용가능한 서비스입니다.");"D"==t.rowStatCd?$(".postLikeBtn").eq(e).find("i").removeClass("on"):$(".postLikeBtn").eq(e).find("i").addClass("on"),$(".postLikeBtn").eq(e).find(".none").text(t.likeCnt)}})}),$(".post-detailPopup").on("click",function(t){fn_postDetail($(this).data("no"),"post",$(this).data("url"))}),$(".post-detailRlyPopup").on("click",function(t){fn_postDetail($(this).data("no"),"rly",$(this).data("url"))}),$(".moviePostBtn").off().on("click",function(t){t.preventDefault();var e,n,t=$(document).scrollTop(),a=(""!=$(".sorting button.on").attr("sort-type")&&(n=$(".sorting button.on").attr("sort-type")),""!=$(".tab-sorting .on").data("type")&&(e=$(".tab-sorting .on").data("type")),MegaboxUtil.Form.createForm());a.append('<input type="hidden" name="tabType" value="'+$("#tabType").val()+'">'),a.append('<input type="hidden" name="scrollTop" value="'+t+'">'),a.append('<input type="hidden" name="currentPage" value="'+g+'">'),a.append('<input type="hidden" name="recordCountPerPage" value="12">'),a.append('<input type="hidden" name="topSorting" value="'+e+'">'),a.append('<input type="hidden" name="orderSorting" value="'+n+'">'),a.append('<input type="hidden" name="ibxMovieNmSearch" value="'+$("#ibxMovieNmSearch").val()+'">'),a.append('<input type="hidden" name="pageType" value="'+$("#pageType").val()+'">'),a.append('<input type="hidden" name="onairYn" value="'+$("#onairYn").val()+'">'),a.attr("method","post"),a.attr("action","/moviepost/detail?moviePostNo="+$(this).data("no")+"&rowNum="+$(this).data("row")+"&totCnt="+$(this).data("tot")),a.submit()}),$(".moviePostId").off().on("click",function(t){t.preventDefault();t=MegaboxUtil.Form.createForm();t.append('<input type="hidden" name="moviePostId" value="'+$(this).data("id")+'">'),t.attr("action","/moviepost/all"),t.submit()})})},Share=function(){this.init=function(){t()};var t=function(e){$(".tooltip-layer, .tipPin").css("z-index",302),$(".btn-sns-share-group button").off().on("click",function(t){t.preventDefault();t=$(this).attr("class");-1<t.indexOf("kakao")?MegaboxUtil.Common.isMobile()||MegaboxUtil.Common.isApp()?MegaboxUtil.Common.alert("준비중입니다."):MegaboxUtil.Common.alert("앱에서만 사용 가능합니다."):-1<t.indexOf("face")?MegaboxUtil.Share.facebook(e):-1<t.indexOf("band")?MegaboxUtil.Share.band(e):-1<t.indexOf("twitter")?MegaboxUtil.Share.twitter(e):MegaboxUtil.Share.copyUrl(),$(this).closest(".sns-share").find(".btn-sns-share-wrap").toggleClass("on")}),$(document).on("click",function(t){t=$(t.target);0==t.parents(".sns-share").length&&$(".btn-sns-share-wrap").removeClass("on"),0==t.parents(".after").length&&$(".layer-header-notice").removeClass("on"),0==t.parents("#layer_mymega").length&&0==t.parents(".link-area").length&&$("#header .link-area .header-open-layer.btn-layer-mymega").hasClass("on")&&($("#header .link-area .header-open-layer.btn-layer-mymega").removeClass("on"),$("#layer_mymega").removeClass("on")),0==t.parents("#layer_header_search").length&&0==t.parents(".link-area").length&&$("#header .link-area .header-open-layer.btn-layer-search").hasClass("on")&&($("#header .link-area .header-open-layer.btn-layer-search").removeClass("on"),$("#layer_header_search").removeClass("on"))})};this.copyUrl=function(){var t=location.href,e=(-1<t.indexOf("selectMovieDetail.do")&&(t=$("#fbUrl").attr("content")),document.createElement("textarea"));e.style.position="absolute",e.style.left="-9999px",e.style.top="0",e.value=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),document.body.appendChild(e),e.select(),e.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(e),MegaboxUtil.Common.alert("복사되었습니다.")},this.facebook=function(t){var e,n,a;MegaboxUtil.Common.isApp()?(0==$("#fbUrl").attr("content").indexOf("/")&&$("#fbUrl").attr("content",location.protocol+"//"+document.domain+$("#fbUrl").attr("content")),e={type:"facebook",url:$("#fbUrl").attr("content"),image:$("#fbImg").attr("content"),title:$("#fbTitle").attr("content"),description:$("#fbDtls").attr("content")},AppHandler.Common.share(e)):(0==$("#fbUrl").attr("content").indexOf("/")&&$("#fbUrl").attr("content",location.protocol+"//"+document.domain+$("#fbUrl").attr("content")),e="http://www.facebook.com/sharer/sharer.php?u="+$("#fbUrl").attr("content"),n=document.body.offsetHeight/2-215,a=document.body.offsetWidth/2-350,window.open(e,"facebookShare","width=555, height=450, toolbar=no, left="+a+", top="+n))},this.twitter=function(t){var e,n,a=$("#fbTitle").attr("content");MegaboxUtil.Common.isApp()?(e={type:"twitter",text:a,url:location.href},AppHandler.Common.share(e)):(e="https://twitter.com/intent/tweet?text="+encodeURIComponent(a)+"&url="+encodeURIComponent(location.href),a=document.body.offsetHeight/2-215,n=document.body.offsetWidth/2-350,window.open(e,"twitterShare","width=700, height=430, toolbar=no, left="+n+", top="+a))},this.band=function(t){t&&"movie"==t.type&&($("#fbImg").attr("content",t.img),$("#fbTitle").attr("content",t.title),$("#fbDtls").attr("content",t.desc));var e,n,t=$("#fbDtls").attr("content"),t=(100<t.length&&(t=t.substr(0,100)+"..."),0==$("#fbUrl").attr("content").indexOf("/")&&$("#fbUrl").attr("content",location.protocol+"//"+document.domain+$("#fbUrl").attr("content")),$("#fbUrl").attr("content")+"\n"+$("#fbTitle").attr("content")+"\n"+gfn_charToHtml(t));MegaboxUtil.Common.isApp()?(e={type:"band",text:t,route:location.href},AppHandler.Common.share(e)):(e="http://www.band.us/plugin/share?body="+encodeURIComponent(t)+"&route="+location.href,t=document.body.offsetHeight/2-215,n=document.body.offsetWidth/2-350,window.open(e,"bandShare","width=700, height=430, toolbar=no, left="+n+", top="+t))}},MegaboxUtil=new function(){this.Common=new Common,this.Form=new Form,this.Movie=new Movie,this.MoviePost=new MoviePost,this.Share=new Share},Timers=function(){this.compTime={Y:31536e3,M:2592e3,D:86400,H:3600,m:60,s:1},this.event={},this.event.onRunStart=null,this.event.onRunCallBack=null,this.event.onComplete=null,this.param={},this.param.compFmt={},this.fn_init=function(t){return this.param.runKey=null,this.param.runDateTime=t.runDateTime.toDateTime(),this.param.compFmt={},this.param.exeVal=t.exeVal,this.param.exeType=t.exeType,this.param.exeIntrvl=t.exeIntrvl,this.event.onRunStart=t.onRunStart,this.event.onRunCallBack=t.onRunCallBack,this.event.onComplete=t.onComplete,isNaN(this.param.runDateTime)},this.fn_initRun=function(t){return this.param.sysDateTime=t.toDateTime(),this.param.diffTime=this.param.runDateTime-this.param.sysDateTime,this.param.startDate=new Date,this.diffTime},this.fn_DiffFmt=function(t){for(var e=t/1e3,n=Object.keys(this.compTime),a={},o=0;o<n.length;o++)e>=this.compTime[n[o]]&&(a[n[o]]=String(Math.floor(e/this.compTime[n[o]])).lpad(2,"0"),e-=a[n[o]]*this.compTime[n[o]]);return((this.param.compFmt=a).Y?a.Y+".":"")+(a.M?a.M+".":a.Y?"00.":"")+(a.D?a.D+" ":a.Y||a.M?"00 ":"")+(a.H?a.H+":":"00:")+(a.m?a.m+":":"00:")+(a.s||"00")},this.fn_workingRun=function(){var t;0<=this.param.diffTime?((t=this.param.diffTime-this.param.exeVal*this.compTime[this.param.exeType]*1e3)<=0?this.param.runKey=setInterval(function(){this.param.diffTime-=this.param.exeIntrvl,this.param.diffFmt=this.fn_DiffFmt(this.param.diffTime),this.param.diffTime<0?(this.event.onComplete(this.param),clearInterval(this.param.runKey)):this.event.onRunCallBack(this.param)}.bind(this),this.param.exeIntrvl):(this.param.diffFmt=this.fn_DiffFmt(this.param.diffTime),this.event.onRunStart(this.param),this.param.runKey=setTimeout(function(){this.param.diffTime-=t,this.param.diffFmt=this.fn_DiffFmt(this.param.diffTime),this.event.onRunCallBack(this.param),this.fn_workingRun()}.bind(this),t)),Timers.runKeyList.push(this.param.runKey)):this.event.onComplete(this.param)}};function movePage(t,e){gfn_confirmMsgBox(e,function(){fn_viewLoginPopup("default","pc")})}function gfn_setCookie(t,e,n,a){var o=new Date,n=(o.setTime(o.getTime()+24*n*60*60*1e3),"expires="+o.toUTCString());a=a?"; domain="+a:"",document.cookie=t+"="+e+"; "+n+";path=/"+a}function fn_urlTrack(t){var e=window.location.pathname;$.ajax({url:"/urlTrack"+e+t,success:function(t){}})}Timers.runKeyList=[],Timers.execute=function(t){var a,t=$.extend({runDateTime:null,sysDateTime:null,onRunStart:null,onRunCallBack:null,onComplete:null,exeVal:1,exeType:"D",exeIntrvl:1e3},t);return null==t.runDateTime||(a=new Timers).fn_init(t)?(gfn_alertMsgBoxM("날짜 형식이 확인하여 주십시요.<br/> 'yyyy.MM.dd hh:mm:ss'으로 입력하여 주십시요"),!1):void(null!=t.sysDateTime?(a.fn_initRun(t.sysDateTime),a.fn_workingRun()):$.ajaxMegaBox({url:"/getSystemDate",success:function(t,e,n){a.fn_initRun(t.sysDate.toDay+" "+t.sysDate.toTime),a.fn_workingRun()}}))},Timers.timeStemp=function(t){var e=new Timers,n={},a=0;n.timeStemp=e.fn_DiffFmt(0),n.runKey=setInterval(function(){n.timeStemp=e.fn_DiffFmt(a+=1e3),t(n)},1e3)},Timers.call=function(t,e,n,a){var o=new Timers,i={};i.time=o.compTime[e]*t,n&&n(i),i.runKey=setTimeout(function(){a&&a(i)},1e3*i.time)},Timers.clearTimer=function(t){return clearTimeout(t),this},Timers.allClearTimer=function(){return Timers.runKeyList.forEach(function(t,e){clearTimeout(t)}),this},$(function(){$(window).on("load",function(){}),$("#layer_age_alert .btn-modal-close").on("click",function(){}),$("#footer .btn-looking-theater").on("click",function(t){t.preventDefault();var a=$("#layer_looking_theater");$.ajaxMegaBox({dataType:"html",contentType:"application/json;charset=UTF-8",url:"/on/oh/ohc/Brch/selectFooterBrchListWithArea.do",commAt:!0,success:function(t,e,n){a.html(t)}})}),$("#header .link-area .header-open-layer.btn-layer-search").on("click",function(t){$("#layer_header_search").empty(),$.ajaxMegaBox({url:"/on/oh/ohz/Header",dataType:"html",commAt:!0,success:function(t){$("#layer_header_search").append(t),$("#layer_header_search").addClass("appendHtml")}})}),$("#header .link-area .header-open-layer.btn-layer-mymega").on("click",function(t){$("#layer_mymega").hasClass("on")||e()});var e=function(){$.ajaxMegaBox({contentType:"application/json;charset=UTF-8",url:"/on/oh/ohg/MbLogin/selectLoginSession.do",data:{},success:function(t,e,n){"Y"===t.resultMap.result?($("#layer_mymega .wrap .login-after").show(),$("#layer_mymega .wrap .login-before").hide(),a()):($("#layer_mymega .wrap .login-after").hide(),$("#layer_mymega .wrap .login-before").show(),$("#layer_mymega .wrap").show())}})},a=function(){$.ajaxMegaBox({contentType:"application/json;charset=UTF-8",url:"/on/oh/ohh/MyScnBoard/selectMyScnBoardInfo.do",async:!0,data:JSON.stringify({sellStatCd:"P"}),success:function(t,e,n){o(t),i(t),r(t),s(t),l(t),c(t),$("#layer_mymega .wrap").show()},complete:function(t,e,n){-1<e.indexOf("error")&&($("#layer_mymega .wrap .login-after").hide(),$("#layer_mymega .wrap .login-before").show(),$("#layer_mymega .wrap").show())}})},o=function(t){"Y"===t.vipAt?$("#layer_mymega .vip").text(t.custInfo.mbClassNm):$("#layer_mymega .vip").text(""),$("#layer_mymega .name").text(t.custInfo.mbNm),$("#layer_mymega .last-date em").text(t.custInfo.lastLoginDt)},i=function(t){var n="";if("Y"==t.vipAt)switch(t.custInfo.mbClassCd){case"RVIP":n+='<i class="iconset ico-header-vipp"></i>';break;case"VVIP":n+='<i class="iconset ico-header-vvip"></i>';break;default:n+='<i class="iconset ico-header-vip"></i>'}0<t.mbshipJoinInfo.length&&$.each(t.mbshipJoinInfo,function(t,e){"SMT01"==e.svcTyCd&&(n+='<i class="iconset ico-header-film"></i>'),"SMT02"==e.svcTyCd&&(n+='<i class="iconset ico-header-classic"></i>')}),$("#layer_mymega .membership").html(n)},r=function(t){t.cponInfo.cponCnt+=t.cponInfo.othcomCponCnt+t.cponInfo.adCponCnt,$("#layer_mymega .point .count").text(t.pointInfo.totHoldPoint.format()),$("#layer_mymega .coupon .count .cpon").text(t.cponInfo.cponCnt),$("#layer_mymega .coupon .count .movie").text(t.cponInfo.movieMvtchkHoldCnt)},s=function(t){0===t.bokdList.length?$("#layer_mymega .reserve .txt").text("예매내역이 없어요!"):$("#layer_mymega .reserve .txt").text(gfn_charToHtml(t.bokdList[0].movieNm))},l=function(t){$("#layer_mymega .buy .count em").text(t.pureInfo.length)},c=function(t){0<t.cponPassList.length&&$("#layer_mymega .couponpass").show()},m={recordCountPerPage:5,currentPage:1,totalPage:0,readAt:"N"},t=($(document).on("click",".after .notice",function(){0==$(".right-link .after .layer-header-notice").is(".on")&&n("")}),$(document).on("click",".notice-list-more button",function(){n("PAGE")}),location.pathname),n=(-1!=["/main","/store","/booking","/event","/myMegabox"].indexOf(t)&&(m.readAt="N",$.ajax({contentType:"application/json;charset=UTF-8",url:"/on/oh/ohz/MySetting/selectMbPushHistCnt.do",type:"POST",data:JSON.stringify(m),success:function(t,e,n){null==t.totalCnt&&$(".right-link .after .notice").hide(),0<t.totalCnt&&$(".right-link .after .notice").addClass("on")}})),function(t){if("PAGE"==t){if(!(m.currentPage<m.totalPage))return void gfn_alertMsgBox("알림함 내역이 없습니다.");m.currentPage++}m.readAt="",$.ajaxMegaBox({contentType:"application/json;charset=UTF-8",url:"/on/oh/ohz/MySetting/selectMbPushHist.do",data:JSON.stringify(m),success:function(t,e,n){var a=$(".layer-header-notice .notice-wrap");if(null!=t.mbNoticeList&&0<t.mbNoticeList.length){m.totalPage=t.pageCnt,1==m.currentPage&&a.find(".list").html("");var o,i="";for(o in t.mbNoticeList){var r=t.mbNoticeList[o];r.notiLinkUrl=r.notiLinkUrl.replace("/movie/online-review?","/movie-detail?"),"mobile-order"==r.notiLinkUrl.split("/")[1]&&(r.notiLinkUrl="javascript:alert('모바일앱 전용 링크입니다.')"),i='<li>\t<p class="tit">'+r.notiTitle+'</p>\t<div class="cont"><a href="'+r.notiLinkUrl+'" title="'+r.notiTitle+'">'+r.notiCn+'</a>\t</div>\t<p class="time">'+r.fstRegDt+"</p></li>",a.find(".list").append(i)}a.find(".totalCnt").text(t.totalCnt),$(".notice-list-more").show()}else i='<li class="no-list">\t알림 내역이 없습니다.</li>',a.find(".list").html(i),a.find(".totalCnt").text(0),$(".notice-list-more").hide()}})});$(document).on("click","div.go-mobile a",function(){var a="";(-1<location.pathname.indexOf("/event")||-1<location.pathname.indexOf("/store")||-1<location.pathname.indexOf("/movie"))&&(a=location.pathname),$.ajaxMegaBox({url:"/getToken",async:!0,success:function(t,e,n){},error:function(t,e,n){},complete:function(t,e,n){gfn_setCookie("FROM_MOBILE_WEB","N",30,location.host.substr(location.host.indexOf("."))),location.href=$("div.go-mobile a").data("url")+"/sessionCpResponse?returnPath="+a+location.search+"&token="+encodeURIComponent(t.responseJSON.token)}})}),$(".container").on("click",".eventBtn",function(t){t.preventDefault();t=MegaboxUtil.Form.createForm();"Y"==$(this).data("netfunnel")?(t.attr("action","/event/detail?eventNo="+$(this).data("no")),NetfunnelChk.formSubmit("EVENT_DTL",t,function(){})):(t.append('<input type="hidden" name="eventNo" value="'+$(this).data("no")+'">'),t.attr("action","/event/detail"),t.attr("method","get"),t.submit())}),$(document).on("focus","input:password",function(t){$("input:password").passTrim()}),$(document).on("focus",".strTrim",function(t){$(".strTrim").passTrim()})});var App=App||{},App=(App.Nscreen=function(i){"use strict";return{selectMovieNscreenList:function(){return new Promise(function(n,a){i.ajax({url:"/on/oh/oha/Movie/selectMovieNscreenList",type:"POST",contentType:"application/json;charset=UTF-8",success:function(t){var e=t.imgSvrUrl,t=t.movieNscreenList;n({movieNscreenList:t,imgSvrUrl:e})},error:function(t,e,n){t=JSON.parse(t.responseText);a(new Error(t.msg))}})})},selectMovieNscreenHistList:function(t,e){return new Promise(function(a,o){i.ajax({url:"/on/oh/oha/Movie/selectMovieNscreenHistList",type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify({currentPage:t.toString(),recordCountPerPage:e.toString(),nextRowYn:""}),success:function(t){var e=t.imgSvrUrl,t=t.movieNscreenHistList,n=!_.isEmpty(t)&&_.every(t,function(t){return"Y"===t.nextRowYn});a({movieNscreenHistList:t,imgSvrUrl:e,isNextRowExists:n})},error:function(t,e,n){t=JSON.parse(t.responseText);o(new Error(t.msg))}})})},selectMovieNscreenGuideCn:function(){return new Promise(function(e,a){i.ajax({url:"/on/oh/oha/Movie/selectMovieNscreenGuideCn",type:"POST",contentType:"application/json;charset=UTF-8",success:function(t){t=t.guideCn;e({guideCn:t})},error:function(t,e,n){t=JSON.parse(t.responseText);a(new Error(t.msg))}})})}}}(jQuery),App||{});function EventError(t){this.message=t,this.stack=(new Error).stack}App.Event=function(i){"use strict";return{selectZecEventList:function(o,t,e){return new Promise(function(n,a){i.ajax({url:"/on/oh/ohe/Event/selectEventList.do",type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify({eventStatCd:"ONG",zecAt:"Y",nextAt:"Y",currentPage:t,recordCountPerPage:e}),success:function(t){var e=_.get(t,"imgSvrUrl"),t=_.get(t,"eventDivList"),t=_(t).filter(o).each(function(t){var e=_.get(t,"zecStartDt");_.set(t,"dday",function(t){try{var e=new Date((new Date).toISOString().getISODateString()),n=new Date(t.getISODateString()),a=parseInt((e.getTime()-n.getTime())/864e5);return"D"+(0===a?"-":"")+a.toString()}catch(t){return console.error(t),""}}(e)),_.set(t,"formattedDate",function(t){try{var e=new Date(t),n=e.getFullYear().toString().substr(2,4),a=e.getMonth()+1,o=e.getDate(),i=e.toLocaleString("ko-KR",{hour:"2-digit",minute:"2-digit"}).replace("오전 "," am").replace("오후 "," pm");return n+"."+a+"."+o+" "+i}catch(t){return console.error(t),""}}(e))});n({imgSvrUrl:e,eventList:t})},error:function(t,e,n){t=JSON.parse(t.responseText);a(new EventError(t.msg))}})})},selectEventTyCdList:function(t){return new Promise(function(e,a){i.ajax({url:"/on/oh/ohe/Event/selectEventTyCdList.do",type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify({grpCd:t}),success:function(t){t=_.map(t.eventTyCdList,function(t){return{cdId:_.get(t,"cdId"),cdNm:_.get(t,"cdNm")}});e({eventTyCdList:t})},error:function(t,e,n){t=JSON.parse(t.responseText);a(new EventError(t.msg))}})})},commonErrorHandler:function(t){t instanceof EventError?AppHandler.Common.alert(t):console.error(t)}}}(jQuery),EventError.prototype=Object.create(Error.prototype),EventError.prototype.name="EventError",String.prototype.getISODateString=function(){try{return this.split("T")[0]}catch(t){return this}};